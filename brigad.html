<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="BRIGADA Z TATTOO - Tattoo & Piercing Studio. Arte, t√©cnica e higiene profesional." />
  <title>BRIGADA Z TATTOO</title>

  <style>
    :root{
      --bg1:#0b0b0d;
      --bg2:#101013;
      --card:#0f0f12;
      --card2:#141418;
      --txt:#f5f5f7;
      --muted:rgba(245,245,247,0.72);
      --rojo:#e50914;
      --rojo2:#ff2a2a;
      --line:rgba(255,255,255,0.10);
      --shadow:0 14px 40px rgba(0,0,0,0.45);
      --radius:18px;
      --radius2:26px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1000px 700px at 20% 10%, rgba(229,9,20,.35), transparent 60%),
        radial-gradient(900px 600px at 80% 25%, rgba(255,42,42,.18), transparent 55%),
        radial-gradient(800px 520px at 30% 90%, rgba(229,9,20,.16), transparent 55%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      overflow-x:hidden;
    }

    /* Preloader */
    body.loading{overflow:hidden}

    #preloader{
      position:fixed; inset:0; z-index:9999;
      display:flex; align-items:center; justify-content:center;
      background:
        radial-gradient(900px 600px at 50% 40%, rgba(229,9,20,.22), transparent 60%),
        linear-gradient(180deg,#0a0a0c,#0c0c0f);
      opacity:1; visibility:visible;
      transition:opacity .35s ease, visibility .35s ease;
    }
    body:not(.loading) #preloader{opacity:0; visibility:hidden; pointer-events:none}
    .preloader-inner{display:flex; flex-direction:column; align-items:center; gap:18px}
    .preloader-logo{
      width:110px; height:110px; border-radius:18px;
      box-shadow:0 0 28px rgba(229,9,20,.55);
      object-fit:contain; background:#000;
    }
    .spinner{
      width:34px;height:34px;border-radius:50%;
      border:3px solid rgba(255,255,255,0.18);
      border-top-color:rgba(229,9,20,0.95);
      animation:spin 1s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Wrapper fade when preloader ends */
    #siteRoot{
      opacity:1;
      transition:opacity .35s ease;
    }
    body.loading #siteRoot{opacity:0}

    /* Header */
    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter:saturate(140%) blur(10px);
      background:rgba(10,10,12,0.55);
      border-bottom:1px solid var(--line);
    }
    .container{width:min(1120px, 92vw); margin:0 auto}
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      padding:.7rem 0;
      gap:14px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      text-decoration:none; color:var(--txt);
    }
    .brand img{width:34px;height:34px;border-radius:10px; object-fit:contain; background:#000}
    .brand span{font-weight:800; letter-spacing:.06em; text-transform:uppercase; font-size:.95rem}

    nav{display:flex; gap:10px; align-items:center}
    nav a{
      text-decoration:none; color:var(--txt);
      font-size:.9rem;
      padding:.35rem .7rem;
      border-radius:999px;
      border:1px solid transparent;
      transition:.2s;
      opacity:.95;
      white-space:nowrap;
    }
    nav a:hover{border-color:rgba(255,255,255,0.22); transform:translateY(-1px)}
    .cta{
      border-color:rgba(229,9,20,0.55) !important;
      background:rgba(229,9,20,0.18);
    }
    .cta:hover{border-color:rgba(229,9,20,0.9)!important}

    /* Mobile nav */
    .hamburger{
      display:none;
      width:42px;height:42px;border-radius:12px;
      border:1px solid rgba(255,255,255,0.20);
      background:rgba(0,0,0,0.35);
      color:var(--txt);
      align-items:center;justify-content:center;
      cursor:pointer;
    }
    .mobile-panel{
      display:none;
      position:fixed; inset:0; z-index:60;
      background:rgba(0,0,0,0.55);
    }
    .mobile-sheet{
      position:absolute; right:0; top:0; height:100%; width:min(360px,86vw);
      background:linear-gradient(180deg,rgba(10,10,12,0.98),rgba(12,12,15,0.98));
      border-left:1px solid rgba(255,255,255,0.12);
      padding:18px;
      transform:translateX(105%);
      transition:transform .25s ease;
      display:flex; flex-direction:column; gap:10px;
    }
    .mobile-panel.open .mobile-sheet{transform:translateX(0)}
    .mobile-head{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      padding-bottom:10px; border-bottom:1px solid rgba(255,255,255,0.10);
    }
    .mobile-head b{letter-spacing:.06em;text-transform:uppercase}
    .close-btn{
      width:40px;height:40px;border-radius:12px;
      border:1px solid rgba(255,255,255,0.18);
      background:rgba(0,0,0,0.35);
      color:var(--txt);
      cursor:pointer;
    }
    .mobile-links a{
      display:block;
      margin-top:8px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.12);
      background:rgba(255,255,255,0.04);
      text-decoration:none; color:var(--txt);
    }
    .mobile-links a:active{transform:scale(.99)}

    /* HERO */
    .hero{padding:2.2rem 0 1.4rem}
    .hero-inner{
      max-width:640px;margin:0 auto;
      display:flex;flex-direction:column;align-items:center;text-align:center;
    }
    .hero-logo{
      max-width:260px;border-radius:12px;
      box-shadow:0 0 25px rgba(229,9,20,0.6);
    }
    .hero-title{margin:.85rem 0 .25rem;font-size:1.9rem;letter-spacing:.06em;text-transform:uppercase;line-height:1.1}
    .hero-tagline{max-width:600px;margin:1rem auto .8rem}
    .hero-badges{margin-bottom:.7rem}
    .badge{
      display:inline-block;margin:.25rem;padding:.3rem .8rem;border-radius:999px;
      border:1px solid rgba(255,255,255,0.25);
      font-size:.75rem;text-transform:uppercase;
    }
    .inline-icons{margin-top:.4rem;display:inline-flex;gap:.6rem;align-items:center;justify-content:center}
    .inline-icon-btn{
      width:32px;height:32px;display:inline-flex;justify-content:center;align-items:center;
      background:#000;border:1px solid rgba(255,255,255,0.4);border-radius:50%;
      transition:.2s;
    }
    .inline-icon-btn img{width:20px;height:20px}
    .inline-icon-btn:hover{border-color:var(--rojo);transform:scale(1.07)}

    /* SECCIONES */
    section{padding:2rem 0}
    .section-header{margin-bottom:1.2rem;border-left:4px solid var(--rojo);padding-left:.75rem}
    .section-title{text-transform:uppercase;font-size:1.2rem}
    .grid{display:grid; gap:16px}
    .grid-2{grid-template-columns:repeat(2,1fr)}
    .grid-3{grid-template-columns:repeat(3,1fr)}

    /* CARDS */
    .card{
      background:linear-gradient(180deg,rgba(255,255,255,0.06),rgba(255,255,255,0.03));
      border:1px solid rgba(255,255,255,0.10);
      border-radius:var(--radius2);
      box-shadow:var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .card .inner{padding:18px}
    .muted{color:var(--muted)}
    .card h3{margin:.2rem 0 .6rem; letter-spacing:.02em}
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      border-radius:999px; padding:.35rem .75rem;
      background:rgba(229,9,20,0.14);
      border:1px solid rgba(229,9,20,0.35);
      font-size:.85rem;
    }

    /* Gallery */
    .carousel{
      position:relative;
      aspect-ratio: 16 / 11;
      width:100%;
      border-radius:22px;
      overflow:hidden;
      background:#000;
    }
    .carousel img{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
      opacity:0;
      transition:opacity .5s ease;
    }
    .carousel img.active{opacity:1}
    .carousel .dots{
      position:absolute; left:50%; bottom:12px;
      transform:translateX(-50%);
      display:flex; gap:8px;
      padding:6px 10px;
      border-radius:999px;
      background:rgba(0,0,0,0.45);
      border:1px solid rgba(255,255,255,0.15);
      backdrop-filter: blur(8px);
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background:rgba(255,255,255,0.35);
      border:1px solid rgba(255,255,255,0.25);
      cursor:pointer;
    }
    .dot.active{background:rgba(229,9,20,0.9); border-color:rgba(229,9,20,0.9)}

    /* Services grid */
    .service{
      border-radius:20px;
      border:1px solid rgba(255,255,255,0.12);
      background:rgba(255,255,255,0.04);
      padding:16px;
      display:flex; flex-direction:column; gap:8px;
    }
    .service b{letter-spacing:.02em}
    .service small{color:var(--muted)}

    /* Contact */
    .contact-row{
      display:flex; gap:12px; flex-wrap:wrap; margin-top:10px;
    }
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.18);
      background:rgba(0,0,0,0.35);
      color:var(--txt);
      text-decoration:none;
      transition:.2s;
      font-weight:700;
    }
    .btn:hover{transform:translateY(-1px); border-color:rgba(229,9,20,0.65)}
    .btn.red{
      background:rgba(229,9,20,0.18);
      border-color:rgba(229,9,20,0.55);
    }

    /* Floating WhatsApp button */
    .float-wa{
      position:fixed; right:16px; bottom:16px;
      z-index:80;
      width:54px; height:54px;
      border-radius:999px;
      display:flex; align-items:center; justify-content:center;
      background:rgba(0,0,0,0.65);
      border:1px solid rgba(255,255,255,0.20);
      box-shadow:0 10px 30px rgba(0,0,0,0.45);
      transition:.2s;
    }
    .float-wa img{width:26px;height:26px}
    .float-wa:hover{transform:translateY(-2px); border-color:rgba(229,9,20,0.7)}

    /* Map & Instagram */
    .embeds{display:grid; grid-template-columns:1fr 1fr; gap:16px}
    .embed-box{
      border-radius:22px;
      border:1px solid rgba(255,255,255,0.10);
      background:rgba(255,255,255,0.03);
      overflow:hidden;
      box-shadow:var(--shadow);
    }
    .embed-box iframe{width:100%; height:320px; border:0; display:block}
    .embed-caption{padding:12px 14px; border-top:1px solid rgba(255,255,255,0.10); color:var(--muted); font-size:.9rem}

    /* Footer */
    footer{
      padding:1rem 0 1.4rem;
      border-top:1px solid rgba(255,255,255,0.10);
      background:rgba(0,0,0,0.25);
    }
    .foot{
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
      color:rgba(255,255,255,0.70);
      font-size:.9rem;
    }

    /* Hover lift (touch-friendly) */
    .hover-lift{transition:transform .18s ease, box-shadow .18s ease}
    .hover-lift:hover{transform:translateY(-2px)}
    .hover-lift.touched{transform:translateY(-2px)}

    /* =========================================================
       ON-ENTER ANIMATIONS
       ========================================================= */
    html.js [data-animate="card"],
    html.js [data-animate="stagger"],
    html.js [data-animate="glow"]{
      opacity:0;
      transform:translateY(16px);
      filter:blur(10px);
      transition:opacity 700ms ease, transform 700ms ease, filter 800ms ease;
      will-change:opacity,transform,filter;
    }
    html.js [data-animate="card"].is-inview,
    html.js [data-animate="stagger"].is-inview,
    html.js [data-animate="glow"].is-inview{
      opacity:1;transform:translateY(0);filter:blur(0);
    }
    html.js [data-animate="stagger"]{ transition-delay:var(--stagger-delay,0ms); }

    .glow-on-enter{position:relative}
    .glow-on-enter.is-inview{animation:glowPulse 1100ms ease-out 1 both}
    @keyframes glowPulse{
      0%{box-shadow:0 0 0 rgba(229,9,20,0)}
      35%{box-shadow:0 0 34px rgba(229,9,20,0.55)}
      100%{box-shadow:0 0 20px rgba(229,9,20,0.22)}
    }

    @media (prefers-reduced-motion: reduce){
      #siteRoot{transition:none!important}
      html.js [data-animate="card"],
      html.js [data-animate="stagger"],
      html.js [data-animate="glow"]{
        transition:none!important;opacity:1!important;transform:none!important;filter:none!important
      }
      .glow-on-enter.is-inview{animation:none!important}
      .spinner{animation:none!important}
      .hover-lift{transition:none!important}
    }

    /* RESPONSIVE */
    @media (max-width: 920px){
      .grid-3{grid-template-columns:1fr}
      .grid-2{grid-template-columns:1fr}
      .embeds{grid-template-columns:1fr}
      .embed-box iframe{height:300px}
    }
    @media (max-width: 720px){
      nav{display:none}
      .hamburger{display:flex}
      .mobile-panel{display:block}
      .hero-logo{max-width:220px}
      .embed-box iframe{height:260px}
    }
    @media (max-width: 420px){
      .hero{padding:1.8rem 0 1.2rem}
      .hero-logo{max-width:200px}
      .hero-title{font-size:1.65rem}
    }
  </style>

  <script>
    // Flag JS for on-enter animations
    document.documentElement.classList.add("js");

    // Background parallax (pointer) - subtle
    (function(){
      let raf=0, tx=0, ty=0, cx=0, cy=0;
      function apply(){
        raf=0;
        cx += (tx-cx)*0.08;
        cy += (ty-cy)*0.08;
        document.body.style.backgroundPosition =
          `${cx}px ${cy}px, ${-cx*0.6}px ${-cy*0.4}px, ${cx*0.4}px ${-cy*0.3}px, 0 0`;
      }
      window.addEventListener("pointermove",(e)=>{
        const x=(e.clientX/window.innerWidth - 0.5);
        const y=(e.clientY/window.innerHeight - 0.5);
        tx = x*60; ty = y*60;
        if(!raf) raf=requestAnimationFrame(apply);
      }, {passive:true});
    })();
  </script>
</head>

<body class="loading">
  <!-- Preloader -->
  <div id="preloader" aria-label="Cargando sitio">
    <div class="preloader-inner">
      <img class="preloader-logo" src="/assets/brigadaz/logo.png" alt="Logo BRIGADA Z TATTOO" decoding="async" />
      <div class="spinner" aria-hidden="true"></div>
    </div>
  </div>

  <div id="siteRoot">
    <header>
      <div class="container">
        <div class="topbar">
          <a class="brand" href="#top" aria-label="Ir al inicio">
            <img src="/assets/brigadaz/logo.png" alt="BRIGADA Z TATTOO" loading="lazy" decoding="async" />
            <span>BRIGADA Z TATTOO</span>
          </a>

          <nav aria-label="Secciones">
            <a href="#sobre">Sobre</a>
            <a href="#galeria">Galer√≠a</a>
            <a href="#estudio">El Estudio</a>
            <a href="#servicios">Servicios</a>
            <a href="#contacto" class="cta">Contacto</a>
          </nav>

          <button class="hamburger" id="btnMenu" aria-label="Abrir men√∫" aria-controls="mobilePanel" aria-expanded="false">
            ‚ò∞
          </button>
        </div>
      </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-panel" id="mobilePanel" aria-hidden="true">
      <div class="mobile-sheet" role="dialog" aria-modal="true" aria-label="Men√∫">
        <div class="mobile-head">
          <b>Men√∫</b>
          <button class="close-btn" id="btnClose" aria-label="Cerrar men√∫">‚úï</button>
        </div>
        <div class="mobile-links">
          <a href="#sobre">Sobre</a>
          <a href="#galeria">Galer√≠a</a>
          <a href="#estudio">El Estudio</a>
          <a href="#servicios">Servicios</a>
          <a href="#contacto">Contacto</a>
        </div>
      </div>
    </div>

    <!-- HERO -->
    <section class="hero" id="top">
      <div class="container">
        <div class="hero-inner">
          <img
            src="/assets/brigadaz/logo.png"
            class="hero-logo glow-on-enter hover-lift"
            data-animate="glow"
            alt="Logo BRIGADA Z TATTOO"
            loading="eager"
            decoding="async"
            fetchpriority="high"
          />

          <h1 class="hero-title">BRIGADA Z TATTOO</h1>

          <p class="hero-tagline">
            Somos BRIGADA Z TATTOO. Combinamos arte, t√©cnica e higiene profesional para que cada pieza sea √∫nica y duradera sobre la piel.
          </p>

          <div class="hero-badges">
            <span class="badge">Tatuajes</span>
            <span class="badge">Piercings</span>
            <span class="badge">Tinta premium</span>
          </div>

          <div class="inline-icons" aria-label="Redes sociales BRIGADA Z TATTOO">
            <a class="inline-icon-btn" href="https://www.instagram.com/" target="_blank" rel="noopener noreferrer" title="Ver trabajos en Instagram" aria-label="Ver Instagram">
              <img src="/assets/hirose/insta.png" width="20" height="20" alt="Instagram" loading="lazy" decoding="async" />
            </a>
            <a class="inline-icon-btn" href="https://www.tiktok.com/" target="_blank" rel="noopener noreferrer" title="Ver en TikTok" aria-label="Ver TikTok">
              <img src="/assets/hirose/tiktok.png" width="20" height="20" alt="TikTok" loading="lazy" decoding="async" />
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- SOBRE -->
    <section id="sobre">
      <div class="container">
        <div class="section-header"><h2 class="section-title">Sobre Nosotros</h2></div>

        <div class="grid grid-2">
          <article class="card" data-animate="card">
            <div class="inner">
              <span class="pill">üéØ Enfoque</span>
              <h3>Dise√±o con identidad</h3>
              <p class="muted">
                Trabajamos cada dise√±o de forma personalizada, respetando tu estilo y cuidando cada detalle, desde el trazo hasta la cicatrizaci√≥n.
              </p>
            </div>
          </article>

          <article class="card" data-animate="card">
            <div class="inner">
              <span class="pill">üßº Higiene</span>
              <h3>Protocolos profesionales</h3>
              <p class="muted">
                Materiales esterilizados, descartables y procedimientos seguros para que tu experiencia sea c√≥moda y confiable.
              </p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- GALERIA -->
    <section id="galeria">
      <div class="container">
        <div class="section-header"><h2 class="section-title">Galer√≠a</h2></div>

        <div class="grid grid-2">
          <div class="card" data-animate="card">
            <div class="inner">
              <h3>Trabajos recientes</h3>
              <p class="muted">Una selecci√≥n de piezas y estilos. Desliz√° o toc√° los puntos para cambiar.</p>
              <div class="carousel hover-lift" id="carousel">
                <img src="/assets/brigadaz/imagen1.PNG" alt="Trabajo 1" class="active" loading="lazy" decoding="async" />
                <img src="/assets/brigadaz/imagen2.PNG" alt="Trabajo 2" loading="lazy" decoding="async" />
                <img src="/assets/brigadaz/imagen3.PNG" alt="Trabajo 3" loading="lazy" decoding="async" />
                <div class="dots" aria-label="Controles de galer√≠a" id="dots"></div>
              </div>
            </div>
          </div>

          <div class="card" data-animate="card">
            <div class="inner">
              <h3>¬øQu√© hacemos?</h3>
              <p class="muted">
                Tatuajes en diferentes estilos y piercings con materiales de calidad. Asesoramiento previo y cuidado post sesi√≥n.
              </p>
              <div class="grid" style="margin-top:12px">
                <div class="service" data-animate="stagger" data-stagger-group="about">
                  <b>üñãÔ∏è Tattoos</b>
                  <small>Personalizados / flash / cover-up</small>
                </div>
                <div class="service" data-animate="stagger" data-stagger-group="about">
                  <b>üíé Piercings</b>
                  <small>Colocaci√≥n y curaci√≥n responsable</small>
                </div>
                <div class="service" data-animate="stagger" data-stagger-group="about">
                  <b>üß¥ Aftercare</b>
                  <small>Gu√≠a de cuidados y seguimiento</small>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- EL ESTUDIO -->
    <section id="estudio">
      <div class="container">
        <div class="section-header"><h2 class="section-title">El estudio</h2></div>

        <div class="grid grid-2">
          <article class="card" data-animate="card">
            <div class="inner">
              <h3>Ambiente y atenci√≥n</h3>
              <p class="muted">
                Un espacio preparado para que te sientas c√≥modo/a, con atenci√≥n dedicada y tiempos cuidados para cada sesi√≥n.
              </p>
              <p class="muted" style="margin-top:10px">
                Consultanos por turnos, estilos, tama√±os y referencias. Te ayudamos a aterrizar la idea.
              </p>
            </div>
          </article>

          <article class="card" data-animate="card">
            <div class="inner">
              <h3>Destacado</h3>
              <p class="muted">Una vez que entr√°s a esta secci√≥n, vas a notar un glow suave (solo una vez).</p>
              <div class="service glow-on-enter" data-animate="glow" style="margin-top:12px">
                <b>‚ú® Turnos y asesoramiento</b>
                <small>Hacemos una previa para definir la mejor propuesta para tu tatuaje.</small>
              </div>
            </div>
          </article>
        </div>

        <!-- Embeds -->
        <div class="embeds" style="margin-top:16px">
          <div class="embed-box" data-animate="card">
            <iframe
              title="Instagram"
              loading="lazy"
              src="https://www.instagram.com/"
              referrerpolicy="no-referrer"
            ></iframe>
            <div class="embed-caption">Post de Instagram (peg√° aqu√≠ la URL del embed).</div>
          </div>

          <div class="embed-box" data-animate="card">
            <iframe
              title="Mapa"
              loading="lazy"
              src="https://www.google.com/maps"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
            <div class="embed-caption">Mapa de Google (ubicaci√≥n del estudio).</div>
          </div>
        </div>
      </div>
    </section>

    <!-- SERVICIOS -->
    <section id="servicios">
      <div class="container">
        <div class="section-header"><h2 class="section-title">Servicios</h2></div>

        <div class="grid grid-3">
          <div class="service" data-animate="stagger" data-stagger-group="services">
            <b>Linework / Fine line</b>
            <small>Detalles n√≠tidos y trazos finos</small>
          </div>
          <div class="service" data-animate="stagger" data-stagger-group="services">
            <b>Blackwork</b>
            <small>Contraste fuerte y negro s√≥lido</small>
          </div>
          <div class="service" data-animate="stagger" data-stagger-group="services">
            <b>Tradicional</b>
            <small>Cl√°sico, bold, con car√°cter</small>
          </div>
          <div class="service" data-animate="stagger" data-stagger-group="services">
            <b>Cover-up</b>
            <small>Tapados y re-trabajos</small>
          </div>
          <div class="service" data-animate="stagger" data-stagger-group="services">
            <b>Piercing</b>
            <small>Colocaci√≥n + cuidados</small>
          </div>
          <div class="service" data-animate="stagger" data-stagger-group="services">
            <b>Asesor√≠a</b>
            <small>Idea, dise√±o, tama√±o y ubicaci√≥n</small>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACTO -->
    <section id="contacto">
      <div class="container">
        <div class="section-header"><h2 class="section-title">Contacto</h2></div>

        <div class="grid grid-2">
          <div class="card" data-animate="card">
            <div class="inner">
              <h3>Escribinos</h3>
              <p class="muted">Consultas, turnos, presupuestos y referencias.</p>
              <div class="contact-row">
                <a class="btn red" href="https://wa.me/541159999999" target="_blank" rel="noopener noreferrer">WhatsApp</a>
                <a class="btn" href="tel:+541159999999">Llamar</a>
              </div>
            </div>
          </div>

          <div class="card" data-animate="card">
            <div class="inner">
              <h3>Info</h3>
              <p class="muted">
                Direcci√≥n: <b>Buenos Aires</b><br/>
                Horarios: <b>Consultar</b><br/>
                Reservas: <b>Por WhatsApp</b>
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="container">
        <div class="foot">
          <div>¬© <span id="year"></span> BRIGADA Z TATTOO</div>
          <div>Hecho para GitHub Pages</div>
        </div>
      </div>
    </footer>
  </div>

  <!-- Floating WhatsApp -->
  <a class="float-wa" href="https://wa.me/541159999999" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp">
    <img src="/assets/hirose/whatsapp.png" alt="WhatsApp" loading="lazy" decoding="async" />
  </a>

  <script>
    // Mobile menu
    (function(){
      const panel = document.getElementById("mobilePanel");
      const btn = document.getElementById("btnMenu");
      const close = document.getElementById("btnClose");

      function open(){
        panel.classList.add("open");
        panel.setAttribute("aria-hidden","false");
        btn.setAttribute("aria-expanded","true");
        document.body.style.overflow="hidden";
      }
      function shut(){
        panel.classList.remove("open");
        panel.setAttribute("aria-hidden","true");
        btn.setAttribute("aria-expanded","false");
        document.body.style.overflow="";
      }

      btn.addEventListener("click", open);
      close.addEventListener("click", shut);
      panel.addEventListener("click",(e)=>{ if(e.target===panel) shut(); });
      panel.querySelectorAll('a[href^="#"]').forEach(a=> a.addEventListener("click", shut));
      window.addEventListener("keydown",(e)=>{ if(e.key==="Escape") shut(); });
    })();

    // Carousel
    (function(){
      const el = document.getElementById("carousel");
      if(!el) return;
      const imgs = Array.from(el.querySelectorAll("img"));
      const dotsWrap = document.getElementById("dots");
      let idx=0;
      imgs.forEach((_,i)=>{
        const d=document.createElement("button");
        d.className="dot"+(i===0?" active":"");
        d.type="button";
        d.setAttribute("aria-label","Ver imagen "+(i+1));
        d.addEventListener("click", ()=>show(i));
        dotsWrap.appendChild(d);
      });
      const dots = Array.from(dotsWrap.querySelectorAll(".dot"));

      function show(i){
        idx=i;
        imgs.forEach((im,k)=> im.classList.toggle("active", k===idx));
        dots.forEach((d,k)=> d.classList.toggle("active", k===idx));
      }
      let auto=setInterval(()=> show((idx+1)%imgs.length), 4200);

      el.addEventListener("mouseenter", ()=>clearInterval(auto));
      el.addEventListener("mouseleave", ()=> auto=setInterval(()=> show((idx+1)%imgs.length), 4200));
      el.addEventListener("touchstart", ()=>clearInterval(auto), {passive:true});
    })();

    // Touch lift helper
    (function initTouchLift(){
      const targets = document.querySelectorAll(".hover-lift");
      targets.forEach(el=>{
        el.addEventListener("pointerdown", ()=>{
          if (window.matchMedia("(hover: none)").matches) el.classList.add("touched");
        }, {passive:true});
        el.addEventListener("pointerup", ()=> el.classList.remove("touched"), {passive:true});
        el.addEventListener("pointercancel", ()=> el.classList.remove("touched"), {passive:true});
      });
    })();

    // =========================================================
    // PRELOADER: esperar SOLO el logo + timeout corto
    // =========================================================
    function unlockSite(){
      document.body.classList.remove("loading");
    }

    function waitLogoOnly(timeoutMs=1200){
      return new Promise((resolve)=>{
        const logo = document.querySelector('.preloader-logo');
        if(!logo){ resolve(); return; }

        let done=false;
        const finish=()=>{
          if(done) return;
          done=true;
          resolve();
        };

        // if already cached
        if(logo.complete && logo.naturalWidth>0){ finish(); return; }

        const t=setTimeout(finish, timeoutMs);
        logo.addEventListener("load", ()=>{ clearTimeout(t); finish(); }, {once:true});
        logo.addEventListener("error", ()=>{ clearTimeout(t); finish(); }, {once:true});
      });
    }

    // =========================================================
    // ON-ENTER: cards, stagger groups, glow pulse once
    // Fix PC: double rAF when marking in-view
    // =========================================================
    function initOnEnterAnimations(){
      const cards = Array.from(document.querySelectorAll('[data-animate="card"]'));
      const stItems = Array.from(document.querySelectorAll('[data-animate="stagger"]'));
      const glows = Array.from(document.querySelectorAll('[data-animate="glow"]'));

      // stagger grouping by container attribute
      const groups = new Map();
      stItems.forEach(el=>{
        const parent = el.closest("[data-stagger-group]");
        const key = parent ? (parent.dataset.staggerGroup || "__default") : "__default";
        if (!groups.has(key)) groups.set(key, []);
        groups.get(key).push(el);
      });
      groups.forEach((els)=>{
        els.forEach((el,i)=> el.style.setProperty("--stagger-delay", (i*90) + "ms"));
      });

      const obs = new IntersectionObserver((entries)=>{
        entries.forEach((entry)=>{
          if (!entry.isIntersecting) return;
          const el = entry.target;

          el.getBoundingClientRect();
          requestAnimationFrame(()=> requestAnimationFrame(()=> el.classList.add("is-inview")));

          // glow: una sola vez
          if (el.classList.contains("glow-on-enter")) { obs.unobserve(el); return; }
          obs.unobserve(el);
        });
      }, { threshold: 0.14, rootMargin: "0px 0px -10% 0px" });

      cards.forEach(el=>obs.observe(el));
      stItems.forEach(el=>obs.observe(el));
      glows.forEach(el=>{
        el.classList.add("glow-on-enter");
        obs.observe(el);
      });

      // si est√°n visibles de entrada
      requestAnimationFrame(()=> {
        cards.concat(stItems, glows).forEach(el=>{
          const r = el.getBoundingClientRect();
          if (r.top < window.innerHeight * 0.92 && r.bottom > 0) el.classList.add("is-inview");
        });
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("year").textContent = new Date().getFullYear();
      initOnEnterAnimations();
      waitLogoOnly(1200).finally(unlockSite);
    });
  </script>
</body>
</html>
