<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>BRIGADA Z TATTOO</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="BRIGADA Z TATTOO - Tatuajes y piercings profesionales desde 2004. Arte, higiene y tinta de m√°xima calidad en Cap. Claudio Rosales 876, B1684 El Palomar, Provincia de Buenos Aires." />

  <link rel="icon" href="/assets/brigadaz/logo.png" type="image/png" />

  <!-- Preload de im√°genes clave -->
  <link rel="preload" as="image" href="/assets/brigadaz/logo.png" fetchpriority="high" />
  <link rel="preload" as="image" href="/assets/brigadaz/imagen1.PNG" fetchpriority="high" />

  <script>
    // Permite aplicar animaciones solo si hay JS
    document.documentElement.classList.add("js");
  </script>

  <style>
    :root{
      --rojo:#e50914;
      --rojo-oscuro:#a30710;
      --negro:#090909;
      --blanco:#f5f5f5;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}
    body{
      font-family:Arial,Helvetica,sans-serif;
      color:var(--blanco);
      line-height:1.6;
      background:
        radial-gradient(circle at 20% 30%, rgba(255,255,255,0.28) 0%, rgba(255,255,255,0) 45%),
        radial-gradient(circle at 80% 60%, rgba(255,255,255,0.22) 0%, rgba(255,255,255,0) 42%),
        radial-gradient(circle at 60% 20%, rgba(229, 9, 20, 0.25) 0%, rgba(229, 9, 20, 0) 55%),
        radial-gradient(circle at 30% 70%, rgba(229, 9, 20, 0.18) 0%, rgba(229, 9, 20, 0) 50%),
        linear-gradient(180deg, #000000 0%, #0a0a0a 40%, #000000 100%);
      background-attachment:fixed;
      background-size:cover;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    .container{max-width:1100px;margin:0 auto;padding:0 1rem}

    /* =========================================================
       PRELOADER (hasta TODO cargado)
       ========================================================= */
    body.loading{overflow:hidden}
    #preloader{
      position:fixed; inset:0; z-index:9999;
      display:flex; align-items:center; justify-content:center;
      background:
        radial-gradient(circle at 20% 30%, rgba(255,255,255,0.22) 0%, rgba(255,255,255,0) 45%),
        radial-gradient(circle at 80% 60%, rgba(255,255,255,0.18) 0%, rgba(255,255,255,0) 42%),
        radial-gradient(circle at 60% 20%, rgba(229, 9, 20, 0.22) 0%, rgba(229, 9, 20, 0) 55%),
        linear-gradient(180deg, #000000 0%, #0a0a0a 40%, #000000 100%);
      transition:opacity 220ms ease-out;
    }
    .preloader-inner{width:min(420px,92vw);text-align:center;padding:1.2rem 1rem}
    .preloader-logo{
      width:min(240px,70vw); margin:0 auto; border-radius:12px;
      box-shadow:0 0 25px rgba(229,9,20,0.55);
    }
    .preloader-text{margin-top:.9rem;font-size:.9rem;opacity:.9;letter-spacing:.04em}
    .spinner{
      width:34px;height:34px;border-radius:999px;margin:.9rem auto 0;
      border:3px solid rgba(255,255,255,0.22); border-top-color:var(--rojo);
      animation:spin .9s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    #siteRoot{opacity:0; transform:translateY(6px); transition:opacity 220ms ease-out, transform 220ms ease-out}
    body.loaded #siteRoot{opacity:1; transform:none}
    body.loaded #preloader{opacity:0; pointer-events:none}

    /* HEADER / NAV */
    header{
      position:sticky; top:0;
      background:rgba(0,0,0,0.92);
      backdrop-filter:blur(6px);
      border-bottom:2px solid var(--rojo-oscuro);
      z-index:100;
    }
    .nav{
      position:relative;
      display:flex;
      height:64px;
      justify-content:space-between;
      align-items:center;
    }
    .nav-left-title{
      font-size:1rem;
      font-weight:bold;
      letter-spacing:.07em;
      text-transform:uppercase;
      border-left:4px solid var(--rojo);
      padding-left:.75rem;
      line-height:1.2;
      display:flex;
      align-items:center;
    }
    .nav-links{
      display:flex;
      gap:1.3rem;
      text-transform:uppercase;
      font-size:.9rem;
      letter-spacing:.1em;
      align-items:center;
    }
    .nav-links a{position:relative;padding-bottom:2px}
    .nav-links a::after{
      content:"";
      position:absolute;left:0;bottom:0;
      width:0;height:2px;
      background:linear-gradient(90deg,var(--rojo),#ffffff);
      transition:width .2s ease-out;
    }
    .nav-links a:hover::after{width:100%}

    .nav-toggle{
      display:none;
      background:none;border:none;color:var(--blanco);
      cursor:pointer;
      width:44px;height:44px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.22);
      transition:transform .15s ease, border-color .15s ease, background .15s ease;
    }
    .nav-toggle:hover{border-color:rgba(229,9,20,0.6); transform:translateY(-1px)}
    .nav-toggle-icon{
      width:22px;height:16px;margin:0 auto;position:relative;
      display:flex;flex-direction:column;justify-content:space-between;
    }
    .nav-toggle-icon span{
      display:block;height:2px;border-radius:999px;background:#fff;opacity:.95;
      transition:transform .2s ease, opacity .2s ease;
    }

    /* HERO */
    .hero{padding:2.2rem 0 1.4rem}
    .hero-inner{
      max-width:640px;margin:0 auto;
      display:flex;flex-direction:column;align-items:center;text-align:center;
    }
    .hero-logo{
      max-width:260px;border-radius:12px;
      box-shadow:0 0 25px rgba(229,9,20,0.6);
    }
    .hero-tagline{max-width:600px;margin:1rem auto .8rem}
    .hero-badges{margin-bottom:.7rem}
    .badge{
      display:inline-block;margin:.25rem;padding:.3rem .8rem;border-radius:999px;
      border:1px solid rgba(255,255,255,0.25);
      font-size:.75rem;text-transform:uppercase;
    }
    .inline-icons{margin-top:.4rem;display:inline-flex;gap:.6rem;align-items:center;justify-content:center}
    .inline-icon-btn{
      width:32px;height:32px;display:inline-flex;justify-content:center;align-items:center;
      background:#000;border:1px solid rgba(255,255,255,0.4);border-radius:50%;
      transition:.2s;
    }
    .inline-icon-btn img{width:20px;height:20px}
    .inline-icon-btn:hover{border-color:var(--rojo);transform:scale(1.07)}

    /* SECCIONES */
    section{padding:2rem 0}
    .section-header{margin-bottom:1.2rem;border-left:4px solid var(--rojo);padding-left:.75rem}
    .section-title{text-transform:uppercase;font-size:1.2rem}

    .card{
      background:rgba(0,0,0,0.6);
      border:1px solid rgba(255,255,255,0.22);
      border-radius:14px;
      padding:1.2rem 1.4rem;
      backdrop-filter:blur(6px);
    }

    /* Hover / tap lift (cards + items) */
    .hover-lift{
      transition:transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease;
      will-change:transform;
    }
    @media (hover:hover){
      .hover-lift:hover{
        transform:translateY(-6px);
        border-color:rgba(229,9,20,0.55);
        box-shadow:0 16px 45px rgba(0,0,0,0.65), 0 0 28px rgba(229,9,20,0.18);
      }
    }
    @media (hover:none){
      .hover-lift:active,
      .hover-lift.touched{
        transform:translateY(-4px);
        border-color:rgba(229,9,20,0.45);
        box-shadow:0 14px 40px rgba(0,0,0,0.6), 0 0 26px rgba(229,9,20,0.16);
      }
    }

    /* SERVICIOS */
    .services-grid{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .service-item{
      background:rgba(0,0,0,0.55);
      padding:1rem;border-radius:10px;
      border:1px solid rgba(255,255,255,0.2);
    }
    .service-title{color:var(--rojo);text-transform:uppercase;font-size:.9rem;margin-bottom:.3rem}

    /* INSTAGRAM EMBED */
    .ig-embed-wrap{margin:0 0 1.2rem}
    .ig-embed-card{
      max-width:520px;margin:0 auto;padding:.9rem;border-radius:14px;
      border:1px solid rgba(255,255,255,0.22);
      background:rgba(0,0,0,0.55);
      backdrop-filter:blur(6px);
    }
    .ig-embed-frame{
      width:100%;border:0;border-radius:12px;display:block;
      height:440px;background:rgba(0,0,0,0.25);
    }

    /* CAROUSEL */
    .carousel{
      position:relative;overflow:hidden;border-radius:18px;
      border:1px solid rgba(255,255,255,0.25);
      background:rgba(0,0,0,0.6);
    }
    .carousel-track{display:flex;transition:transform .4s ease-in-out;will-change:transform}
    .carousel-slide{min-width:100%;height:340px}
    .carousel-slide img{width:100%;height:100%;object-fit:cover}
    .carousel-btn{
      position:absolute;top:50%;transform:translateY(-50%);
      width:38px;height:38px;border-radius:50%;
      background:rgba(0,0,0,0.8);color:#fff;
      display:flex;justify-content:center;align-items:center;
      cursor:pointer;border:1px solid rgba(255,255,255,0.4);z-index:2;
    }
    .carousel-btn.prev{left:10px}
    .carousel-btn.next{right:10px}
    .carousel-dots{
      position:absolute;bottom:10px;left:0;right:0;
      display:flex;justify-content:center;gap:6px;z-index:2;
    }
    .carousel-dot{width:10px;height:10px;background:rgba(255,255,255,0.4);border-radius:50%;cursor:pointer}
    .carousel-dot.active{background:var(--rojo)}

    /* CONTACTO */
    .contact-layout{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .contact-map iframe{width:100%;border:0;min-height:300px;border-radius:14px}

    .map-fallback{
      display:none;align-items:center;justify-content:center;text-align:center;
      min-height:300px;border-radius:14px;border:1px solid rgba(255,255,255,0.22);
      background:rgba(0,0,0,0.55);padding:1.2rem;
    }
    .map-fallback a{
      display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
      margin-top:.8rem;padding:.7rem 1rem;border-radius:999px;
      border:1px solid rgba(255,255,255,0.35);background:rgba(0,0,0,0.7);
      transition:.2s;text-decoration:none;
    }
    .map-fallback a:hover{border-color:var(--rojo);transform:translateY(-1px)}

    /* BOT√ìN WHATSAPP */
    .floating-wa{position:fixed;right:18px;bottom:18px;z-index:200}
    .floating-wa-btn{
      width:52px;height:52px;border-radius:50%;
      border:2px solid #fff;
      background:radial-gradient(circle,#25D366,#0b2b13);
      display:flex;justify-content:center;align-items:center;
      box-shadow:0 7px 25px rgba(0,0,0,0.9);
      transition:.2s;
    }
    .floating-wa-btn:hover{border-color:var(--rojo);transform:scale(1.07)}
    .wa-icon{width:26px;height:26px;display:block}

    /* FOOTER */
    footer{
      padding:1rem 0 1.4rem;text-align:center;font-size:.85rem;color:#ccc;
      margin-top:2rem;border-top:1px solid rgba(255,255,255,0.25);
    }
    .footer-highlight{color:var(--rojo)}

    /* =========================================================
       ON-ENTER animations (arreglado para PC)
       - Se aplican SOLO cuando html tiene .js
       ========================================================= */
    html.js [data-animate="card"],
    html.js [data-animate="stagger"]{
      opacity:0;
      transform:translateY(16px);
      filter:blur(10px);
      transition:
        opacity 700ms ease,
        transform 700ms ease,
        filter 800ms ease;
      will-change:opacity,transform,filter;
    }
    html.js [data-animate="card"].is-inview,
    html.js [data-animate="stagger"].is-inview{
      opacity:1;
      transform:translateY(0);
      filter:blur(0);
    }

    /* Stagger delay */
    html.js [data-animate="stagger"]{
      transition-delay:var(--stagger-delay,0ms);
    }

    /* Glow pulse (una vez) */
    .glow-on-enter{position:relative}
    .glow-on-enter.is-inview{animation:glowPulse 1100ms ease-out 1 both}
    @keyframes glowPulse{
      0%{box-shadow:0 0 0 rgba(229,9,20,0.0)}
      35%{box-shadow:0 0 34px rgba(229,9,20,0.55)}
      100%{box-shadow:0 0 20px rgba(229,9,20,0.22)}
    }

    @media (prefers-reduced-motion: reduce){
      #siteRoot{transition:none!important}
      html.js [data-animate="card"],
      html.js [data-animate="stagger"]{
        transition:none!important;opacity:1!important;transform:none!important;filter:none!important
      }
      .glow-on-enter.is-inview{animation:none!important}
      .spinner{animation:none!important}
      .hover-lift{transition:none!important}
    }

    /* RESPONSIVE */
    @media (max-width:768px){
      .nav{height:64px; padding:0}
      .nav-left-title{font-size:.85rem;max-width:240px}
      .nav-toggle{
        display:inline-flex;
        align-items:center;
        justify-content:center;
        position:absolute;
        right:0;
        top:50%;
        transform:translateY(-50%);
      }

      /* Dropdown (m√°s prolijo) */
      .nav-links{
        display:none;
        position:absolute;
        left:0;
        right:0;
        top:64px;
        flex-direction:column;
        gap:.7rem;
        padding:.9rem 1rem 0.6rem;
        background:rgba(0,0,0,0.95);
        border-bottom:2px solid var(--rojo-oscuro);
        align-items:flex-start;
      }
      .nav-links.show{display:flex}

      /* ‚Äúl√≠nea con flecha hacia arriba‚Äù para cerrar */
      .menu-close-bar{
        width:100%;
        margin-top:.7rem;
        padding:.65rem 0 .3rem;
        border-top:1px solid rgba(255,255,255,0.22);
        display:flex;
        align-items:center;
        justify-content:center;
        gap:.55rem;
        cursor:pointer;
        user-select:none;
        opacity:.9;
      }
      .menu-close-bar:hover{opacity:1}
      .menu-close-bar .arrow{
        width:18px;height:18px;display:inline-flex;align-items:center;justify-content:center;
        border:1px solid rgba(255,255,255,0.25);
        border-radius:999px;
      }
      .menu-close-bar small{
        letter-spacing:.08em;
        text-transform:uppercase;
        font-size:.72rem;
        opacity:.9;
      }

      .hero{padding-top:1.6rem}
      .hero-logo{max-width:220px}
      .carousel-slide{height:240px}
      .floating-wa{right:12px;bottom:12px}
      .ig-embed-card{padding:.7rem;max-width:420px}
      .ig-embed-frame{height:320px}
    }
  </style>
</head>

<body class="loading">
  <!-- PRELOADER -->
  <div id="preloader" aria-label="Cargando contenido">
    <div class="preloader-inner">
      <img class="preloader-logo" src="/assets/brigadaz/logo.png" alt="Cargando BRIGADA Z TATTOO" decoding="async" fetchpriority="high" />
      <div class="preloader-text">Cargando‚Ä¶</div>
      <div class="spinner" aria-hidden="true"></div>
    </div>
  </div>

  <div id="siteRoot">
    <!-- BOT√ìN FLOTANTE WHATSAPP -->
    <div class="floating-wa">
      <a href="https://wa.me/541162838310" target="_blank" rel="noopener noreferrer" class="floating-wa-btn" aria-label="Enviar WhatsApp a BRIGADA Z TATTOO" title="WhatsApp">
        <svg class="wa-icon" viewBox="0 0 32 32" aria-hidden="true" focusable="false">
          <path fill="#ffffff" d="M19.11 17.46c-.27-.14-1.6-.79-1.84-.88-.24-.09-.42-.14-.6.14-.18.27-.69.88-.84 1.06-.15.18-.31.2-.58.07-.27-.14-1.12-.41-2.13-1.31-.79-.7-1.32-1.56-1.47-1.83-.15-.27-.02-.42.11-.55.12-.12.27-.31.4-.46.13-.15.18-.27.27-.46.09-.18.05-.35-.02-.49-.07-.14-.6-1.45-.82-1.99-.22-.52-.44-.45-.6-.46h-.51c-.18 0-.46.07-.7.35-.24.27-.92.9-.92 2.2s.94 2.56 1.07 2.74c.13.18 1.86 2.84 4.51 3.98.63.27 1.12.43 1.51.55.64.2 1.22.17 1.68.1.51-.08 1.6-.65 1.83-1.28.23-.63.23-1.17.16-1.28-.06-.11-.23-.18-.51-.32z"/>
          <path fill="#ffffff" d="M26.67 5.33A14.54 14.54 0 0 0 16 1.33C8 1.33 1.49 7.84 1.49 15.84c0 2.56.67 5.05 1.95 7.25L1.33 30.67l7.77-2.04a14.47 14.47 0 0 0 6.9 1.76h.01c8 0 14.51-6.51 14.51-14.51 0-3.88-1.51-7.53-4.35-10.55zM16 28.12h-.01a12.1 12.1 0 0 1-6.17-1.69l-.44-.26-4.61 1.21 1.23-4.49-.29-.46a12.09 12.09 0 0 1-1.86-6.41c0-6.67 5.43-12.1 12.11-12.1a12.02 12.02 0 0 1 8.56 3.55 12 12 0 0 1 3.54 8.55c0 6.67-5.43 12.1-12.06 12.1z"/>
        </svg>
      </a>
    </div>

    <!-- HEADER -->
    <header>
      <div class="container">
        <nav class="nav">
          <div class="nav-left-title">BRIGADA Z TATTOO</div>

          <button class="nav-toggle" aria-label="Abrir men√∫" id="navToggle">
            <span class="nav-toggle-icon" aria-hidden="true">
              <span></span><span></span><span></span>
            </span>
          </button>

          <div class="nav-links" id="navLinks">
            <a href="#sobre-mi">Sobre Nosotros</a>
            <a href="#galeria">Galer√≠a</a>
            <a href="#studio">El estudio</a>
            <a href="#servicios">Servicios</a>
            <a href="#contacto">Contacto</a>

            <!-- Barra inferior con flecha para cerrar (solo m√≥vil por CSS) -->
            <div class="menu-close-bar" id="menuCloseBar" aria-label="Cerrar men√∫">
              <span class="arrow">‚Üë</span>
              <small>Cerrar</small>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <!-- HERO -->
    <section class="hero">
      <div class="container">
        <div class="hero-inner">
          <img
            src="/assets/brigadaz/logo.png"
            class="hero-logo glow-on-enter hover-lift"
            data-animate="glow"
            alt="Logo BRIGADA Z TATTOO"
            loading="eager"
            decoding="async"
            fetchpriority="high"
          />

          <p class="hero-tagline">
            Somos BRIGADA Z TATTOO. Combinamos arte, t√©cnica y criterio profesional para que cada pieza sea √∫nica y duradera sobre la piel.
          </p>

          <div class="hero-badges">
            <span class="badge">Tatuajes</span>
            <span class="badge">Piercings</span>
            <span class="badge">Tinta premium</span>
          </div>

          <div class="inline-icons" aria-label="Redes sociales BRIGADA Z TATTOO">
            <a class="inline-icon-btn" href="https://www.instagram.com/brigada_z_tattoo" target="_blank" rel="noopener noreferrer" title="Ver trabajos en Instagram" aria-label="Ver Instagram">
              <img src="/assets/hirose/insta.png" width="20" height="20" alt="Instagram" loading="lazy" decoding="async" />
            </a>
            <a class="inline-icon-btn" href="https://www.tiktok.com/@brigada_z_tattoo" target="_blank" rel="noopener noreferrer" title="Ver en TikTok" aria-label="Ver TikTok">
              <img src="/assets/hirose/tiktok.png" width="20" height="20" alt="TikTok" loading="lazy" decoding="async" />
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- SOBRE NOSOTROS -->
    <section id="sobre-mi">
      <div class="container">
        <div class="section-header"><h2 class="section-title">Sobre Nosotros</h2></div>

        <div class="card hover-lift" data-animate="card">
          <p>
            BRIGADA Z TATTOO nacio con una idea clara: respetar la piel tanto como el dise√±o.
            Cada tatuaje se planifica para que envejezca bien, mantenga contraste y se adapte a la anatom√≠a de cada persona.
          </p>
          <p style="margin-top:0.6rem;">
            Trabajamos con <strong>tintas certificadas</strong>, materiales descartables y una rutina de higiene estricta
            para que cada sesi√≥n sea segura, clara y profesional.
          </p>
        </div>
      </div>
    </section>

    <!-- GALER√çA -->
    <section id="galeria">
      <div class="container">
        <div class="section-header"><h2 class="section-title">Galer√≠a</h2></div>

        <div class="carousel hover-lift glow-on-enter" data-animate="card" data-animate-glow="true" aria-label="Galer√≠a de tatuajes BRIGADA Z TATTOO">
          <div class="carousel-track" id="carouselTrack">
            <div class="carousel-slide">
              <img src="/assets/brigadaz/imagen1.PNG" alt="Tatuaje BRIGADA Z 1" loading="eager" decoding="async" fetchpriority="high" />
            </div>
            <div class="carousel-slide">
              <img src="/assets/brigadaz/imagen2.PNG" alt="Tatuaje BRIGADA Z 2" loading="lazy" decoding="async" />
            </div>
            <div class="carousel-slide">
              <img src="/assets/brigadaz/imagen3.PNG" alt="Tatuaje BRIGADA Z 3" loading="lazy" decoding="async" />
            </div>
          </div>

          <button class="carousel-btn prev" id="carouselPrev" aria-label="Anterior">&#10094;</button>
          <button class="carousel-btn next" id="carouselNext" aria-label="Siguiente">&#10095;</button>

          <div class="carousel-dots" id="carouselDots">
            <div class="carousel-dot active" data-index="0"></div>
            <div class="carousel-dot" data-index="1"></div>
            <div class="carousel-dot" data-index="2"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- EL ESTUDIO -->
    <section id="studio">
      <div class="container">
        <div class="section-header"><h2 class="section-title">El estudio</h2></div>

        <div class="card hover-lift" data-animate="card">
          <p>
            El espacio est√° pensado para que la experiencia sea c√≥moda y segura: camillas limpias, iluminaci√≥n adecuada y
            √°reas diferenciadas para preparaci√≥n, trabajo y limpieza. Priorizamos la legibilidad del dise√±o y c√≥mo se
            integra con la anatom√≠a.
          </p>
          <p style="margin-top:0.6rem;">
            Si una idea no va a curar bien, la ajustamos. La prioridad es que el tatuaje se vea bien hoy y dentro de varios a√±os.
          </p>
        </div>
      </div>
    </section>

    <!-- SERVICIOS -->
    <section id="servicios">
      <div class="container">

        <div class="ig-embed-wrap">
          <div class="ig-embed-card hover-lift" data-animate="card" aria-label="Post de Instagram">
            <iframe
              id="igEmbed"
              class="ig-embed-frame"
              title="Instagram Embed"
              src="https://www.instagram.com/p/DRLetZCDH2Q/embed"
              loading="eager"
              allowtransparency="true"
              allowfullscreen="true"
            ></iframe>
          </div>
        </div>

        <div class="section-header"><h2 class="section-title">Servicios</h2></div>

        <div class="services-grid" data-stagger-group="services">
          <div class="service-item hover-lift" data-animate="stagger">
            <div class="service-title">Tatuajes personalizados</div>
            <div>Dise√±os exclusivos creados a medida seg√∫n tu idea, estilo y zona del cuerpo.</div>
          </div>

          <div class="service-item hover-lift" data-animate="stagger">
            <div class="service-title">Piercings profesionales</div>
            <div>Materiales seguros y colocaci√≥n t√©cnica con protocolos de higiene estrictos.</div>
          </div>

          <div class="service-item hover-lift" data-animate="stagger">
            <div class="service-title">Coberturas y retoques</div>
            <div>Redise√±o de tatuajes antiguos o mal logrados para darles nueva vida.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACTO -->
    <section id="contacto">
      <div class="container">
        <div class="section-header"><h2 class="section-title">Contacto</h2></div>

        <div class="contact-layout">
          <div class="card hover-lift" data-animate="card">
            <p><strong>Direcci√≥n:</strong><br>Cap. Claudio Rosales 876, B1684 El Palomar, Provincia de Buenos Aires</p>

            <p style="margin-top:0.6rem;"><strong>Tel√©fono:</strong><br>
              <a href="tel:+541162838310" style="text-decoration:underline;">+54 11 62838310</a>
            </p>

            <p style="margin-top:0.6rem;"><strong>Horarios:</strong><br>Lunes a s√°bado de 12:00 a 20:00 hs</p>

            <p style="margin-top:0.6rem;"><strong>Instagram:</strong><br>
              <a href="https://www.instagram.com/brigada_z_tattoo" target="_blank" rel="noopener noreferrer" style="text-decoration:underline;">
                @brigada_z_tattoo
              </a>
            </p>

            <p style="margin-top:0.6rem;">
              <strong>Mapa:</strong><br>
              <a href="https://www.google.com/maps/search/?api=1&query=Cap.%20Claudio%20Rosales%20876%2C%20B1684%20El%20Palomar%2C%20Provincia%20de%20Buenos%20Aires" target="_blank" rel="noopener noreferrer" style="text-decoration:underline;">
                Abrir ubicaci√≥n en Google Maps
              </a>
            </p>
          </div>

          <div class="contact-map hover-lift" data-animate="card" id="contactMap">
            <iframe
              id="mapsIframe"
              loading="eager"
              allowfullscreen
              referrerpolicy="no-referrer-when-downgrade"
              src="https://www.google.com/maps?q=Cap.%20Claudio%20Rosales%20876%2C%20B1684%20El%20Palomar%2C%20Provincia%20de%20Buenos%20Aires&output=embed">
            </iframe>

            <div class="map-fallback" id="mapFallback" aria-label="Mapa no disponible en este navegador">
              <div>
                <div style="font-weight:bold; text-transform:uppercase; letter-spacing:0.08em;">Mapa no disponible aqu√≠</div>
                <div style="margin-top:0.5rem; opacity:0.9;">
                  El navegador interno de Instagram puede bloquear Google Maps.<br />
                  Abr√≠ la ubicaci√≥n en tu navegador o en la app de Maps.
                </div>
                <a href="https://www.google.com/maps/search/?api=1&query=Cap.%20Claudio%20Rosales%20876%2C%20B1684%20El%20Palomar%2C%20Provincia%20de%20Buenos%20Aires" target="_blank" rel="noopener noreferrer" aria-label="Abrir en Google Maps">
                  üìç Abrir en Google Maps
                </a>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <footer>
      ¬© <span id="year"></span> <span class="footer-highlight">BRIGADA Z TATTOO</span>. Todos los derechos reservados.
    </footer>
  </div>

  <script>
    // A√±o
    document.getElementById("year").textContent = new Date().getFullYear();

    // Men√∫ m√≥vil
    const navToggle = document.getElementById("navToggle");
    const navLinks = document.getElementById("navLinks");
    const menuCloseBar = document.getElementById("menuCloseBar");

    function closeMenu(){
      navLinks.classList.remove("show");
      navToggle.setAttribute("aria-label", "Abrir men√∫");
    }
    function toggleMenu(){
      navLinks.classList.toggle("show");
      navToggle.setAttribute("aria-label", navLinks.classList.contains("show") ? "Cerrar men√∫" : "Abrir men√∫");
    }

    navToggle.addEventListener("click", toggleMenu);
    menuCloseBar.addEventListener("click", closeMenu);

    // Cierra el men√∫ al tocar un link (m√≥vil)
    navLinks.querySelectorAll("a").forEach(a=>{
      a.addEventListener("click", () => {
        if (window.matchMedia("(max-width: 768px)").matches) closeMenu();
      });
    });

    // Detectar navegadores embebidos (Instagram/Facebook) para Maps fallback
    (function(){
      const ua = navigator.userAgent || "";
      const isInApp = /Instagram|FBAN|FBAV|FB_IAB|FBIOS|FB4A/i.test(ua);
      const iframe = document.getElementById("mapsIframe");
      const fallback = document.getElementById("mapFallback");
      if (isInApp && iframe && fallback){
        iframe.style.display="none";
        fallback.style.display="flex";
      }
    })();

    // Carrusel
    const track = document.getElementById("carouselTrack");
    const slides = Array.from(track.children);
    const dots = Array.from(document.getElementById("carouselDots").children);
    const prevBtn = document.getElementById("carouselPrev");
    const nextBtn = document.getElementById("carouselNext");
    let index = 0;

    function updateCarousel(){
      track.style.transform = "translateX(" + (-index * 100) + "%)";
      dots.forEach((d,i)=>d.classList.toggle("active", i===index));
    }
    prevBtn.addEventListener("click", ()=>{ index=(index-1+slides.length)%slides.length; updateCarousel(); });
    nextBtn.addEventListener("click", ()=>{ index=(index+1)%slides.length; updateCarousel(); });
    dots.forEach(dot=>{
      dot.addEventListener("click", ()=>{ index=Number(dot.dataset.index); updateCarousel(); });
    });
    let auto = setInterval(()=>{ index=(index+1)%slides.length; updateCarousel(); }, 5000);
    const carousel = document.querySelector(".carousel");
    carousel.addEventListener("mouseenter", ()=>clearInterval(auto));
    carousel.addEventListener("mouseleave", ()=>{
      auto = setInterval(()=>{ index=(index+1)%slides.length; updateCarousel(); }, 5000);
    });

    /* =========================================================
       2) Hover/tap: efecto en celular al tocar (clase .touched)
       ========================================================= */
    (function initTouchLift(){
      const targets = document.querySelectorAll(".hover-lift");
      targets.forEach(el=>{
        el.addEventListener("pointerdown", ()=>{
          // Solo para dispositivos sin hover real
          if (window.matchMedia("(hover: none)").matches){
            el.classList.add("touched");
          }
        }, {passive:true});
        el.addEventListener("pointerup", ()=>{
          el.classList.remove("touched");
        }, {passive:true});
        el.addEventListener("pointercancel", ()=>{
          el.classList.remove("touched");
        }, {passive:true});
      });
    })();

    /* =========================================================
       1 + 3) Preloader: esperar a TODO cargado (incluye iframes)
       - window.load espera recursos; adem√°s esperamos load de iframes
       - fallback de timeout por si alg√∫n iframe no dispara load
       ========================================================= */
    function waitForAllImages(timeoutMs=15000){
      const imgs = Array.from(document.images || []);
      if (!imgs.length) return Promise.resolve(true);

      let done = false;
      return new Promise((resolve)=>{
        const t = setTimeout(()=>{ if(!done){ done=true; resolve(false);} }, timeoutMs);

        let pending = 0;
        const check = () => {
          if (pending<=0 && !done){
            done=true;
            clearTimeout(t);
            resolve(true);
          }
        };

        imgs.forEach(img=>{
          if (img.complete) return;
          pending++;
          const finish = () => { pending--; check(); };
          img.addEventListener("load", finish, {once:true});
          img.addEventListener("error", finish, {once:true});
        });

        check();
      });
    }

    function waitForIframes(ids, timeoutMs=20000){
      const frames = ids.map(id=>document.getElementById(id)).filter(Boolean);
      if (!frames.length) return Promise.resolve(true);

      let done = false;
      return new Promise((resolve)=>{
        const t = setTimeout(()=>{ if(!done){ done=true; resolve(false);} }, timeoutMs);

        let pending = frames.length;
        const check = () => {
          if (pending<=0 && !done){
            done=true;
            clearTimeout(t);
            resolve(true);
          }
        };

        frames.forEach(f=>{
          const finish = ()=>{ pending--; check(); };
          f.addEventListener("load", finish, {once:true});
          f.addEventListener("error", finish, {once:true});
        });
      });
    }

    function unlockSite(){
      document.body.classList.remove("loading");
      document.body.classList.add("loaded");
      const pre = document.getElementById("preloader");
      setTimeout(()=>{ if(pre) pre.remove(); }, 350);
    }

    window.addEventListener("load", async () => {
      // window.load ya espera mucho, pero adem√°s: im√°genes + iframes (por seguridad)
      await Promise.all([
        waitForAllImages(15000),
        waitForIframes(["mapsIframe","igEmbed"], 20000)
      ]);
      unlockSite();

      // Despu√©s de desbloquear, inicializamos animaciones para que se vean en PC
      initOnEnterAnimations();
    });

    /* =========================================================
       2) ON-ENTER animations (init despu√©s del load para PC)
       ========================================================= */
    function initOnEnterAnimations(){
      const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      if (prefersReduced) return;

      const cards = Array.from(document.querySelectorAll('[data-animate="card"]'));
      const glows = Array.from(document.querySelectorAll('[data-animate="glow"], [data-animate-glow="true"]'));
      const stItems = Array.from(document.querySelectorAll('[data-animate="stagger"]'));

      // stagger delays
      const groups = new Map();
      stItems.forEach((el)=>{
        const parent = el.closest("[data-stagger-group]") || el.parentElement;
        const key = parent ? (parent.dataset.staggerGroup || "__default") : "__default";
        if (!groups.has(key)) groups.set(key, []);
        groups.get(key).push(el);
      });
      groups.forEach((els)=>{
        els.forEach((el,i)=> el.style.setProperty("--stagger-delay", (i*90) + "ms"));
      });

      // IntersectionObserver robusto
      const obs = new IntersectionObserver((entries)=>{
        entries.forEach((entry)=>{
          if (!entry.isIntersecting) return;
          const el = entry.target;

          // Reflow para asegurar transici√≥n visible en desktop
          // (especialmente cuando el sitio se revela despu√©s del preload)
          el.getBoundingClientRect();

          requestAnimationFrame(()=> el.classList.add("is-inview"));

          // glow solo una vez
          if (el.classList.contains("glow-on-enter")) {
            obs.unobserve(el);
            return;
          }
          obs.unobserve(el);
        });
      }, { threshold: 0.14, rootMargin: "0px 0px -10% 0px" });

      // observar
      cards.forEach(el=>obs.observe(el));
      stItems.forEach(el=>obs.observe(el));
      glows.forEach(el=>{
        el.classList.add("glow-on-enter");
        obs.observe(el);
      });

      // si algo qued√≥ visible en el primer render, forzar chequeo
      requestAnimationFrame(()=> {
        cards.concat(stItems).forEach(el=>{
          const r = el.getBoundingClientRect();
          const inView = r.top < (window.innerHeight * 0.92) && r.bottom > 0;
          if (inView) el.classList.add("is-inview");
        });
      });
    }
  </script>
</body>
</html>
