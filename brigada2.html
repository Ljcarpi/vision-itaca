<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>BRIGADA Z TATTOO</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="BRIGADA Z TATTOO - Tatuajes y piercings profesionales desde 2004. Arte, higiene y tinta de m√°xima calidad en Cap. Claudio Rosales 876, B1684 El Palomar, Provincia de Buenos Aires." />
  <link rel="icon" href="/assets/brigadaz/logo.png" type="image/png" />

  <style>
    :root{
      --rojo:#e50914;
      --rojo-oscuro:#a30710;
      --negro:#090909;
      --blanco:#f5f5f5;

      /* Parallax real: offsets para mover el ‚Äúcentro‚Äù de los gradientes */
      --px: 0px;
      --py: 0px;
    }

    *{margin:0;padding:0;box-sizing:border-box;}
    html,body{height:100%;}
    body{
      font-family: Arial, Helvetica, sans-serif;
      color: var(--blanco);
      line-height: 1.6;

      /* IMPORTANTE:
         Ac√° movemos el ‚Äúat X Y‚Äù de cada radial-gradient (esto s√≠ se nota).
         (Cada capa usa distinta escala para dar profundidad.)
      */
      background-image:
        radial-gradient(circle at calc(20% + calc(var(--px) * 1.0)) calc(30% + calc(var(--py) * 0.8)), rgba(255,255,255,0.28) 0%, rgba(255,255,255,0) 45%),
        radial-gradient(circle at calc(80% + calc(var(--px) * -1.2)) calc(60% + calc(var(--py) * 1.1)), rgba(255,255,255,0.22) 0%, rgba(255,255,255,0) 42%),
        radial-gradient(circle at calc(60% + calc(var(--px) * 1.35)) calc(20% + calc(var(--py) * -1.1)), rgba(229, 9, 20, 0.25) 0%, rgba(229, 9, 20, 0) 55%),
        radial-gradient(circle at calc(30% + calc(var(--px) * -0.9)) calc(70% + calc(var(--py) * -1.25)), rgba(229, 9, 20, 0.18) 0%, rgba(229, 9, 20, 0) 50%),
        linear-gradient(180deg, #000000 0%, #0a0a0a 40%, #000000 100%);

      background-repeat:no-repeat;
      background-size:cover;
      background-attachment: fixed;
      will-change: background-image;
    }

    a{color:inherit;text-decoration:none;}
    img{max-width:100%;display:block;}

    .container{max-width:1100px;margin:0 auto;padding:0 1rem;}

    header{
      position: sticky; top:0;
      background: rgba(0,0,0,0.92);
      backdrop-filter: blur(6px);
      border-bottom: 2px solid var(--rojo-oscuro);
      z-index: 100;
    }
    .nav{
      display:flex;
      height:64px;
      justify-content:space-between;
      align-items:center;
    }
    .nav-left-title{
      font-size:1rem;
      font-weight:bold;
      letter-spacing:0.07em;
      text-transform:uppercase;
      border-left:4px solid var(--rojo);
      padding-left:0.75rem;
      line-height:1.2;
      display:flex;
      align-items:center;
    }
    .nav-links{
      display:flex;
      gap:1.3rem;
      text-transform:uppercase;
      font-size:0.9rem;
      letter-spacing:0.1em;
    }
    .nav-links a{position:relative;padding-bottom:2px;}
    .nav-links a::after{
      content:"";
      position:absolute;left:0;bottom:0;
      width:0;height:2px;
      background: linear-gradient(90deg, var(--rojo), #ffffff);
      transition: width .2s ease-out;
    }
    .nav-links a:hover::after{width:100%;}

    .nav-toggle{
      display:none;
      background:none;border:none;
      color:var(--blanco);
      font-size:1.6rem;
      cursor:pointer;
    }

    section{padding:2rem 0;}
    .section-header{
      margin-bottom:1.2rem;
      border-left:4px solid var(--rojo);
      padding-left:0.75rem;
    }
    .section-title{text-transform:uppercase;font-size:1.2rem;}

    .card{
      background: rgba(0,0,0,0.6);
      border: 1px solid rgba(255,255,255,0.22);
      border-radius:14px;
      padding:1.2rem 1.4rem;
      backdrop-filter: blur(6px);
    }

    /* Cards: on-enter fade + slide + blur-to-sharp */
    .reveal-card{
      opacity:0;
      transform: translateY(14px);
      filter: blur(10px);
      transition: opacity 700ms ease, transform 700ms ease, filter 900ms ease;
      will-change: opacity, transform, filter;
    }
    .reveal-card.in-view{
      opacity:1;
      transform: translateY(0);
      filter: blur(0);
    }

    /* Stagger (grilla) */
    .stagger-item{
      opacity:0;
      transform: translateY(14px);
      filter: blur(8px);
      transition: opacity 700ms ease, transform 700ms ease, filter 900ms ease;
      transition-delay: calc(var(--stagger, 0) * 90ms);
      will-change: opacity, transform, filter;
    }
    .stagger-item.in-view{
      opacity:1;
      transform: translateY(0);
      filter: blur(0);
    }

    /* Glow pulse (una vez) */
    .glow-once{position:relative;}
    .glow-once.glow-run{animation: glowPulse 950ms ease-out 1;}
    @keyframes glowPulse{
      0%   { box-shadow: 0 0 0 rgba(229,9,20,0), 0 0 0 rgba(255,255,255,0); }
      40%  { box-shadow: 0 0 28px rgba(229,9,20,.55), 0 0 14px rgba(255,255,255,.15); }
      100% { box-shadow: 0 0 25px rgba(229,9,20,.6); }
    }

    @media (prefers-reduced-motion: reduce){
      .reveal-card,.stagger-item{opacity:1!important;transform:none!important;filter:none!important;transition:none!important;}
      .glow-once.glow-run{animation:none!important;}
    }

    /* HERO */
    .hero{padding:2.2rem 0 1.4rem;}
    .hero-inner{
      max-width:640px;margin:0 auto;
      display:flex;flex-direction:column;
      align-items:center;text-align:center;
    }
    .hero-logo{
      max-width:260px;
      border-radius:12px;
      box-shadow:0 0 25px rgba(229,9,20,.6);
    }
    .hero-tagline{max-width:600px;margin:1rem auto .8rem;}
    .hero-badges{margin-bottom:.7rem;}
    .badge{
      display:inline-block;margin:.25rem;
      padding:.3rem .8rem;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.25);
      font-size:.75rem;
      text-transform:uppercase;
    }
    .inline-icons{
      margin-top:.4rem;
      display:inline-flex;gap:.6rem;
      align-items:center;justify-content:center;
    }
    .inline-icon-btn{
      width:32px;height:32px;
      display:inline-flex;align-items:center;justify-content:center;
      background:#000;
      border:1px solid rgba(255,255,255,.4);
      border-radius:50%;
      transition:.2s;
    }
    .inline-icon-btn img{width:20px;height:20px;}
    .inline-icon-btn:hover{border-color:var(--rojo);transform:scale(1.07);}

    /* Servicios */
    .services-grid{
      display:grid;
      gap:1rem;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    }
    .service-item{
      background: rgba(0,0,0,0.55);
      padding:1rem;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.2);
    }
    .service-title{
      color:var(--rojo);
      text-transform:uppercase;
      font-size:.9rem;
      margin-bottom:.3rem;
    }

    /* Slot Instagram (arriba de Servicios) */
    .ig-slot{
      display:flex;
      justify-content:center;
      margin-bottom:1.1rem;
    }
    .ig-embed-wrap{
      width:100%;
      max-width:380px;
      border-radius:14px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.22);
      background: rgba(0,0,0,0.55);
      backdrop-filter: blur(6px);
    }
    .ig-embed-wrap iframe{
      display:block;width:100%;
      border:0;
      aspect-ratio: 1/1;
      min-height:260px;
    }
    .ig-embed-hint{
      font-size:.82rem;
      opacity:.85;
      padding:.8rem .9rem;
      text-align:center;
      border-top:1px solid rgba(255,255,255,0.14);
    }

    /* Carrusel */
    .carousel{
      position:relative;
      overflow:hidden;
      border-radius:18px;
      border:1px solid rgba(255,255,255,0.25);
      background: rgba(0,0,0,0.6);
    }
    .carousel-track{
      display:flex;
      transition: transform .4s ease-in-out;
      will-change: transform;
    }
    .carousel-slide{min-width:100%;height:340px;}
    .carousel-slide img{width:100%;height:100%;object-fit:cover;}
    .carousel-btn{
      position:absolute;top:50%;
      transform: translateY(-50%);
      width:38px;height:38px;border-radius:50%;
      background: rgba(0,0,0,0.8);
      color:#fff;
      display:flex;align-items:center;justify-content:center;
      cursor:pointer;
      border:1px solid rgba(255,255,255,0.4);
      z-index:2;
    }
    .carousel-btn.prev{left:10px;}
    .carousel-btn.next{right:10px;}
    .carousel-dots{
      position:absolute;bottom:10px;left:0;right:0;
      display:flex;justify-content:center;gap:6px;
      z-index:2;
    }
    .carousel-dot{
      width:10px;height:10px;border-radius:50%;
      background: rgba(255,255,255,0.4);
      cursor:pointer;
    }
    .carousel-dot.active{background:var(--rojo);}

    /* Contacto */
    .contact-layout{
      display:grid;
      gap:1.5rem;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    }
    .contact-map iframe{
      width:100%;
      border:0;
      min-height:300px;
      border-radius:14px;
    }
    .map-fallback{
      display:none;
      align-items:center;
      justify-content:center;
      text-align:center;
      min-height:300px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.22);
      background: rgba(0,0,0,0.55);
      padding:1.2rem;
    }
    .map-fallback a{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.5rem;
      margin-top:.8rem;
      padding:.7rem 1rem;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.35);
      background: rgba(0,0,0,0.7);
      transition:.2s;
      text-decoration:none;
    }
    .map-fallback a:hover{border-color:var(--rojo);transform:translateY(-1px);}

    /* WhatsApp flotante */
    .floating-wa{position:fixed;right:18px;bottom:18px;z-index:200;}
    .floating-wa-btn{
      width:52px;height:52px;border-radius:50%;
      border:2px solid #fff;
      background: radial-gradient(circle, #25D366, #0b2b13);
      display:flex;align-items:center;justify-content:center;
      box-shadow: 0 7px 25px rgba(0,0,0,0.9);
      transition:.2s;
    }
    .floating-wa-btn:hover{border-color:var(--rojo);transform:scale(1.07);}
    .wa-icon{width:26px;height:26px;display:block;}

    footer{
      padding:1rem 0 1.4rem;
      text-align:center;
      font-size:.85rem;
      color:#ccc;
      margin-top:2rem;
      border-top:1px solid rgba(255,255,255,0.25);
    }
    .footer-highlight{color:var(--rojo);}

    /* RESPONSIVE (y FIX: asegurar que Servicios NO se oculte) */
    @media (max-width: 768px){
      body{background-attachment: scroll;} /* evita bugs/performance en m√≥vil */

      .nav{height:auto;padding:.4rem 0;}
      .nav-left-title{font-size:.85rem;max-width:220px;}
      .nav-toggle{display:block;}
      .nav-links{
        display:none;
        width:100%;
        flex-direction:column;
        gap:.5rem;
        padding:.4rem 0 .6rem;
      }
      .nav-links.show{display:flex;}

      .hero{padding-top:1.6rem;}
      .hero-logo{max-width:220px;}
      .carousel-slide{height:240px;}
      .floating-wa{right:12px;bottom:12px;}

      .ig-embed-wrap{max-width:320px;}
      .ig-embed-wrap iframe{min-height:220px;}

      /* FIX expl√≠cito: la secci√≥n Servicios siempre visible */
      #servicios{display:block !important; visibility:visible !important;}
    }
  </style>
</head>

<body>

  <!-- BOT√ìN FLOTANTE WHATSAPP -->
  <div class="floating-wa">
    <a href="https://wa.me/541162838310" target="_blank" rel="noopener noreferrer" class="floating-wa-btn" aria-label="Enviar WhatsApp a BRIGADA Z TATTOO" title="WhatsApp">
      <svg class="wa-icon" viewBox="0 0 32 32" aria-hidden="true" focusable="false">
        <path fill="#ffffff" d="M19.11 17.46c-.27-.14-1.6-.79-1.84-.88-.24-.09-.42-.14-.6.14-.18.27-.69.88-.84 1.06-.15.18-.31.2-.58.07-.27-.14-1.12-.41-2.13-1.31-.79-.7-1.32-1.56-1.47-1.83-.15-.27-.02-.42.11-.55.12-.12.27-.31.4-.46.13-.15.18-.27.27-.46.09-.18.05-.35-.02-.49-.07-.14-.6-1.45-.82-1.99-.22-.52-.44-.45-.6-.46h-.51c-.18 0-.46.07-.7.35-.24.27-.92.9-.92 2.2s.94 2.56 1.07 2.74c.13.18 1.86 2.84 4.51 3.98.63.27 1.12.43 1.51.55.64.2 1.22.17 1.68.1.51-.08 1.6-.65 1.83-1.28.23-.63.23-1.17.16-1.28-.06-.11-.23-.18-.51-.32z"/>
        <path fill="#ffffff" d="M26.67 5.33A14.54 14.54 0 0 0 16 1.33C8 1.33 1.49 7.84 1.49 15.84c0 2.56.67 5.05 1.95 7.25L1.33 30.67l7.77-2.04a14.47 14.47 0 0 0 6.9 1.76h.01c8 0 14.51-6.51 14.51-14.51 0-3.88-1.51-7.53-4.35-10.55zM16 28.12h-.01a12.1 12.1 0 0 1-6.17-1.69l-.44-.26-4.61 1.21 1.23-4.49-.29-.46a12.09 12.09 0 0 1-1.86-6.41c0-6.67 5.43-12.1 12.11-12.1a12.02 12.02 0 0 1 8.56 3.55 12 12 0 0 1 3.54 8.55c0 6.67-5.43 12.1-12.06 12.1z"/>
      </svg>
    </a>
  </div>

  <!-- HEADER -->
  <header>
    <div class="container">
      <nav class="nav">
        <div class="nav-left-title">BRIGADA Z TATTOO</div>
        <button class="nav-toggle" aria-label="Abrir men√∫" id="navToggle">&#9776;</button>
        <div class="nav-links" id="navLinks">
          <a href="#sobre-mi">Sobre Nosotros</a>
          <a href="#galeria">Galer√≠a</a>
          <a href="#studio">El estudio</a>
          <a href="#servicios">Servicios</a>
          <a href="#contacto">Contacto</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="container">
      <div class="hero-inner">
        <img src="/assets/brigadaz/logo.png" class="hero-logo glow-once" data-glow-once alt="Logo BRIGADA Z TATTOO" loading="eager" decoding="async" />
        <p class="hero-tagline">
          Somos BRIGADA Z TATTOO. Combinamos arte, t√©cnica y criterio profesional para que cada pieza sea √∫nica y duradera sobre la piel.
        </p>
        <div class="hero-badges">
          <span class="badge">Tatuajes</span>
          <span class="badge">Piercings</span>
          <span class="badge">Tinta premium</span>
        </div>

        <div class="inline-icons" aria-label="Redes sociales BRIGADA Z TATTOO">
          <a class="inline-icon-btn" href="https://www.instagram.com/brigada_z_tattoo" target="_blank" rel="noopener noreferrer" title="Ver trabajos en Instagram" aria-label="Ver Instagram">
            <img src="/assets/hirose/insta.png" width="20" height="20" alt="Instagram" loading="lazy" decoding="async" />
          </a>
          <a class="inline-icon-btn" href="https://www.tiktok.com/@brigada_z_tattoo" target="_blank" rel="noopener noreferrer" title="Ver en TikTok" aria-label="Ver TikTok">
            <img src="/assets/hirose/tiktok.png" width="20" height="20" alt="TikTok" loading="lazy" decoding="async" />
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- SOBRE NOSOTROS -->
  <section id="sobre-mi">
    <div class="container">
      <div class="section-header"><h2 class="section-title">Sobre Nosotros</h2></div>
      <div class="card reveal-card" data-reveal-card>
        <p>
          BRIGADA Z TATTOO nacio con una idea clara: respetar la piel tanto como el dise√±o.
          Cada tatuaje se planifica para que envejezca bien, mantenga contraste y se adapte a la anatom√≠a de cada persona.
        </p>
        <p style="margin-top:0.6rem;">
          Trabajamos con <strong>tintas certificadas</strong>, materiales descartables y una rutina de higiene estricta
          para que cada sesi√≥n sea segura, clara y profesional.
        </p>
      </div>
    </div>
  </section>

  <!-- GALER√çA -->
  <section id="galeria">
    <div class="container">
      <div class="section-header"><h2 class="section-title">Galer√≠a</h2></div>

      <div class="carousel reveal-card" data-reveal-card aria-label="Galer√≠a de tatuajes BRIGADA Z TATTOO">
        <div class="carousel-track" id="carouselTrack">
          <div class="carousel-slide"><img src="/assets/brigadaz/imagen1.PNG" alt="Tatuaje BRIGADA Z 1" loading="eager" decoding="async" fetchpriority="high" /></div>
          <div class="carousel-slide"><img src="/assets/brigadaz/imagen2.PNG" alt="Tatuaje BRIGADA Z 2" loading="lazy" decoding="async" /></div>
          <div class="carousel-slide"><img src="/assets/brigadaz/imagen3.PNG" alt="Tatuaje BRIGADA Z 3" loading="lazy" decoding="async" /></div>
        </div>

        <button class="carousel-btn prev" id="carouselPrev" aria-label="Anterior">&#10094;</button>
        <button class="carousel-btn next" id="carouselNext" aria-label="Siguiente">&#10095;</button>

        <div class="carousel-dots" id="carouselDots">
          <div class="carousel-dot active" data-index="0"></div>
          <div class="carousel-dot" data-index="1"></div>
          <div class="carousel-dot" data-index="2"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- EL ESTUDIO -->
  <section id="studio">
    <div class="container">
      <div class="section-header"><h2 class="section-title">El estudio</h2></div>
      <div class="card reveal-card" data-reveal-card>
        <p>
          El espacio est√° pensado para que la experiencia sea c√≥moda y segura: camillas limpias, iluminaci√≥n adecuada y
          √°reas diferenciadas para preparaci√≥n, trabajo y limpieza. Priorizamos la legibilidad del dise√±o y c√≥mo se
          integra con la anatom√≠a.
        </p>
        <p style="margin-top:0.6rem;">
          Si una idea no va a curar bien, la ajustamos. La prioridad es que el tatuaje se vea bien hoy y dentro de varios a√±os.
        </p>
      </div>
    </div>
  </section>

  <!-- SERVICIOS (FIX: esta secci√≥n NO debe desaparecer en m√≥vil) -->
  <section id="servicios">
    <div class="container">

      <!-- Slot Instagram arriba de Servicios -->
      <div class="ig-slot">
        <div class="ig-embed-wrap reveal-card" data-reveal-card>
          <!-- Peg√° ac√° el src del embed (ej: https://www.instagram.com/p/XXXXXXXXX/embed) -->
          <iframe
            id="igServicios"
            title="Instagram post - BRIGADA Z TATTOO"
            loading="lazy"
            referrerpolicy="strict-origin-when-cross-origin"
            src="https://www.instagram.com/p/DRz8cKJDz7Q/embed"
            allowtransparency="true"
          ></iframe>
          <div class="ig-embed-hint">
            Peg√° el link de embed en <strong>src</strong> del iframe.
          </div>
        </div>
      </div>

      <div class="section-header"><h2 class="section-title">Servicios</h2></div>

      <div class="services-grid" data-stagger-grid>
        <div class="service-item stagger-item" data-stagger-item>
          <div class="service-title">Tatuajes personalizados</div>
          <div>Dise√±os exclusivos creados a medida seg√∫n tu idea, estilo y zona del cuerpo.</div>
        </div>

        <div class="service-item stagger-item" data-stagger-item>
          <div class="service-title">Piercings profesionales</div>
          <div>Materiales seguros y colocaci√≥n t√©cnica con protocolos de higiene estrictos.</div>
        </div>

        <div class="service-item stagger-item" data-stagger-item>
          <div class="service-title">Coberturas y retoques</div>
          <div>Redise√±o de tatuajes antiguos o mal logrados para darles nueva vida.</div>
        </div>
      </div>

    </div>
  </section>

  <!-- CONTACTO -->
  <section id="contacto">
    <div class="container">
      <div class="section-header"><h2 class="section-title">Contacto</h2></div>

      <div class="contact-layout">
        <div class="card reveal-card" data-reveal-card>
          <p><strong>Direcci√≥n:</strong><br>Cap. Claudio Rosales 876, B1684 El Palomar, Provincia de Buenos Aires</p>

          <p style="margin-top:0.6rem;"><strong>Tel√©fono:</strong><br>
            <a href="tel:+541162838310" style="text-decoration:underline;">+54 11 62838310</a>
          </p>

          <p style="margin-top:0.6rem;"><strong>Horarios:</strong><br>Lunes a s√°bado de 12:00 a 20:00 hs</p>

          <p style="margin-top:0.6rem;"><strong>Instagram:</strong><br>
            <a href="https://www.instagram.com/brigada_z_tattoo" target="_blank" rel="noopener noreferrer" style="text-decoration:underline;">
              @brigada_z_tattoo
            </a>
          </p>

          <p style="margin-top:0.6rem;"><strong>Mapa:</strong><br>
            <a href="https://www.google.com/maps/search/?api=1&query=Cap.%20Claudio%20Rosales%20876%2C%20B1684%20El%20Palomar%2C%20Provincia%20de%20Buenos%20Aires"
               target="_blank" rel="noopener noreferrer" style="text-decoration:underline;">
              Abrir ubicaci√≥n en Google Maps
            </a>
          </p>
        </div>

        <div class="contact-map" id="contactMap">
          <iframe
            id="mapsIframe"
            loading="lazy"
            allowfullscreen
            referrerpolicy="no-referrer-when-downgrade"
            src="https://www.google.com/maps?q=Cap.%20Claudio%20Rosales%20876%2C%20B1684%20El%20Palomar%2C%20Provincia%20de%20Buenos%20Aires&output=embed">
          </iframe>

          <div class="map-fallback" id="mapFallback" aria-label="Mapa no disponible en este navegador">
            <div>
              <div style="font-weight:bold; text-transform:uppercase; letter-spacing:0.08em;">Mapa no disponible aqu√≠</div>
              <div style="margin-top:0.5rem; opacity:0.9;">
                El navegador interno de Instagram puede bloquear Google Maps.<br />
                Abr√≠ la ubicaci√≥n en tu navegador o en la app de Maps.
              </div>
              <a href="https://www.google.com/maps/search/?api=1&query=Cap.%20Claudio%20Rosales%20876%2C%20B1684%20El%20Palomar%2C%20Provincia%20de%20Buenos%20Aires"
                 target="_blank" rel="noopener noreferrer" aria-label="Abrir en Google Maps">
                üìç Abrir en Google Maps
              </a>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <footer>
    ¬© <span id="year"></span> <span class="footer-highlight">BRIGADA Z TATTOO</span>. Todos los derechos reservados.
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    // Men√∫ m√≥vil
    const navToggle = document.getElementById("navToggle");
    const navLinks = document.getElementById("navLinks");
    navToggle.addEventListener("click", () => navLinks.classList.toggle("show"));

    // Detectar in-app (Instagram/Facebook) para Maps
    (function(){
      const ua = navigator.userAgent || "";
      const isInApp = /Instagram|FBAN|FBAV|FB_IAB|FBIOS|FB4A/i.test(ua);
      const iframe = document.getElementById("mapsIframe");
      const fallback = document.getElementById("mapFallback");
      if (isInApp && iframe && fallback){
        iframe.style.display = "none";
        fallback.style.display = "flex";
      }
    })();

    // Carrusel
    const track = document.getElementById("carouselTrack");
    const slides = Array.from(track.children);
    const dots = Array.from(document.getElementById("carouselDots").children);
    const prevBtn = document.getElementById("carouselPrev");
    const nextBtn = document.getElementById("carouselNext");
    let index = 0;

    function updateCarousel(){
      track.style.transform = "translateX(" + (-index * 100) + "%)";
      dots.forEach((d,i)=>d.classList.toggle("active", i===index));
    }

    prevBtn.addEventListener("click", ()=>{ index = (index - 1 + slides.length) % slides.length; updateCarousel(); });
    nextBtn.addEventListener("click", ()=>{ index = (index + 1) % slides.length; updateCarousel(); });
    dots.forEach(dot => dot.addEventListener("click", ()=>{ index = Number(dot.dataset.index); updateCarousel(); }));

    let auto = setInterval(()=>{ index = (index + 1) % slides.length; updateCarousel(); }, 5000);
    const carousel = document.querySelector(".carousel");
    carousel.addEventListener("mouseenter", ()=>clearInterval(auto));
    carousel.addEventListener("mouseleave", ()=>{
      auto = setInterval(()=>{ index = (index + 1) % slides.length; updateCarousel(); }, 5000);
    });

    // 1) Parallax real (puntero/touch): mueve los ‚Äúcolores‚Äù (centros de gradiente)
    (function initBgParallax(){
      const reduce = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      if (reduce) return;

      let raf = 0;
      let targetX = 0, targetY = 0;
      let curX = 0, curY = 0;

      // Intensidad (px) ‚Äì subila si quer√©s m√°s movimiento
      const MAX_X = 45;
      const MAX_Y = 35;

      function setTargetFromClient(clientX, clientY){
        const w = window.innerWidth || 1;
        const h = window.innerHeight || 1;
        const nx = Math.min(1, Math.max(0, clientX / w)) - 0.5; // -0.5..0.5
        const ny = Math.min(1, Math.max(0, clientY / h)) - 0.5;

        targetX = nx * MAX_X;
        targetY = ny * MAX_Y;

        if (!raf) raf = requestAnimationFrame(tick);
      }

      function tick(){
        raf = 0;
        // suavizado (lerp)
        curX += (targetX - curX) * 0.12;
        curY += (targetY - curY) * 0.12;

        document.documentElement.style.setProperty("--px", curX.toFixed(2) + "px");
        document.documentElement.style.setProperty("--py", curY.toFixed(2) + "px");

        // seguir animando hasta llegar
        if (Math.abs(targetX - curX) > 0.2 || Math.abs(targetY - curY) > 0.2){
          raf = requestAnimationFrame(tick);
        }
      }

      // Pointer (PC)
      window.addEventListener("pointermove", (e)=>{
        if (e.pointerType === "mouse" || e.pointerType === "pen"){
          setTargetFromClient(e.clientX, e.clientY);
        }
      }, {passive:true});

      // Touch (m√≥vil): mover con el dedo
      window.addEventListener("touchmove", (e)=>{
        const t = e.touches && e.touches[0];
        if (t) setTargetFromClient(t.clientX, t.clientY);
      }, {passive:true});

      // Centro inicial
      setTargetFromClient((window.innerWidth||2)/2, (window.innerHeight||2)/2);
    })();

    // 2) On-enter: cards + stagger + glow once
    (function initOnEnterFX(){
      const reduce = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      if (reduce) return;

      const io = new IntersectionObserver((entries)=>{
        for (const entry of entries){
          if (!entry.isIntersecting) continue;
          const el = entry.target;

          if (el.hasAttribute("data-reveal-card")) el.classList.add("in-view");

          if (el.hasAttribute("data-glow-once")){
            el.classList.add("glow-run");
          }

          // Para que sea ‚Äúuna vez‚Äù
          io.unobserve(el);
        }
      }, {threshold: 0.18});

      document.querySelectorAll("[data-reveal-card]").forEach(el=>io.observe(el));
      document.querySelectorAll("[data-glow-once]").forEach(el=>io.observe(el));

      const grid = document.querySelector("[data-stagger-grid]");
      if (grid){
        const items = Array.from(grid.querySelectorAll("[data-stagger-item]"));
        items.forEach((item,i)=>item.style.setProperty("--stagger", i));
        items.forEach(item=>io.observe(item));
      }
    })();
  </script>

</body>
</html>
