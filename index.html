<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Vision-Itaca ‚Äî Pr√≥ximamente</title>
  <meta name="description" content="Vision-Itaca ‚Äî Sitio en desarrollo. Mientras tanto, juega Snake, Pong y Breakout." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0a0f; --text: #eae6ff; --muted: #b9b2e6;
      --accent: #a78bfa; --accent-2: #7c3aed; --accent-3: #c4b5fd;
      --shadow: 0 10px 40px rgba(124, 58, 237, 0.25), 0 2px 12px rgba(167, 139, 250, 0.15);
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html, body { height: 100% }
    body {
      margin: 0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--text);
      background: radial-gradient(1200px 800px at 80% -20%, rgba(124,58,237,0.14), transparent 60%),
                  radial-gradient(1200px 800px at -10% 120%, rgba(167,139,250,0.10), transparent 60%),
                  linear-gradient(180deg, #0a0a0f 0%, #0c0c14 100%);
    }
    .container { max-width: 1080px; margin: 0 auto; padding: 32px 16px 64px }
    header { text-align: center; margin-top: 12px; margin-bottom: 28px }
    .brand { font-size: clamp(28px, 6vw, 56px); font-weight: 800; letter-spacing: .5px; text-shadow: 0 1px 0 #000, 0 8px 30px rgba(167,139,250,.35) }
    .sub { font-size: clamp(16px, 3vw, 22px); color: var(--accent-3); margin-top: 4px }
    .note { margin: 16px auto 28px; max-width: 820px; line-height: 1.5; color: var(--muted);
      background: linear-gradient(180deg, rgba(124,58,237,0.15), rgba(124,58,237,0.08)); border: 1px solid rgba(167,139,250,0.35);
      padding: 12px 16px; border-radius: 14px; box-shadow: var(--shadow) }
    .tabs { display: flex; gap: 10px; align-items: center; justify-content: center; flex-wrap: wrap; margin: 12px 0 4px }
    .tab-btn { appearance: none; border: 1px solid rgba(167,139,250,0.45); background: linear-gradient(180deg, #151523, #131327);
      color: var(--text); padding: 10px 14px; border-radius: 12px; cursor: pointer; font-weight: 600; letter-spacing: .2px;
      transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease; }
    .tab-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow) }
    .tab-btn.active { border-color: var(--accent-2); box-shadow: inset 0 0 0 1px var(--accent-2), 0 10px 30px rgba(124,58,237,.25) }
    .frame { margin-top: 18px; background: linear-gradient(180deg, #0f0f1a, #0e0e17); border: 1px solid rgba(167,139,250,.3);
      border-radius: 18px; padding: 16px; box-shadow: var(--shadow) }
    .game-wrap { display: none; position: relative }
    .game-wrap.active { display: block }

    /* Canvas responsive y n√≠tido en m√≥vil */
    .canvas-wrap { display: flex; flex-direction: column; align-items: center; gap: 8px }
    canvas { width: min(100%, 520px); height: auto; background: #05050a; border-radius: 12px; border: 1px solid rgba(167,139,250,.25); box-shadow: inset 0 0 40px rgba(124,58,237,0.12) }
    .hud { display: flex; gap: 14px; flex-wrap: wrap; justify-content: center; align-items: center; margin-top: 6px }
    .pill { background: #121225; border: 1px solid rgba(167,139,250,.35); padding: 6px 10px; border-radius: 999px; font-size: 14px; color: var(--accent-3) }
    .actions { display: flex; justify-content: center; gap: 8px; margin: 8px 0 2px }
    .btn { border: 1px solid rgba(167,139,250,.5); background: #141428; color: var(--text); padding: 8px 12px; border-radius: 10px; cursor: pointer; font-weight: 600 }
    .btn:hover { box-shadow: 0 6px 18px rgba(124,58,237,.25) }
    .ctrls { text-align: center; color: var(--muted); font-size: 13px; margin-top: 6px }

    /* Overlay de p√©rdida */
    .overlay { position: absolute; inset: 0; display: none; place-items: center; background: rgba(10,10,15,.72); border-radius: 16px; backdrop-filter: blur(2px) }
    .overlay.show { display: grid }
    .overlay .card { background: #131327; border: 1px solid rgba(167,139,250,.45); padding: 16px 18px; border-radius: 14px; box-shadow: var(--shadow); text-align: center }
    .overlay h3 { margin: 0 0 6px; font-size: 20px }
    .overlay p { margin: 0 0 12px; color: var(--muted) }

    /* D-Pad m√≥vil para Snake */
    .dpad { display: none; margin-top: 10px; gap: 8px; user-select: none }
    .dpad .row { display: flex; justify-content: center; gap: 8px }
    .dpad button { width: 56px; height: 56px; border-radius: 12px; border: 1px solid rgba(167,139,250,.45); background: #141428; color: var(--text); font-weight: 800; font-size: 18px }
    @media (pointer:none), (pointer:coarse) {
      .dpad { display: grid }
    }

    footer { margin-top: 30px; text-align: center; color: var(--muted); font-size: 12px; opacity: .85 }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">Vision-Itaca</div>
      <div class="sub">Pr√≥ximamente...</div>
      <div class="note">Sitio en desarrollo ‚Äî mientras tanto, puedes jugar a estos juegos üëá</div>
    </header>

    <nav class="tabs" role="tablist" aria-label="Juegos">
      <button class="tab-btn active" data-tab="snake" role="tab" aria-selected="true">üêç Snake</button>
      <button class="tab-btn" data-tab="pong" role="tab" aria-selected="false">üèì Pong</button>
      <button class="tab-btn" data-tab="breakout" role="tab" aria-selected="false">üß± Breakout</button>
    </nav>

    <section class="frame">
      <!-- SNAKE -->
      <div class="game-wrap active" id="tab-snake" role="tabpanel" aria-labelledby="Snake">
        <div class="canvas-wrap">
          <canvas id="snakeCanvas" width="480" height="360"></canvas>
          <div class="hud">
            <span class="pill">Puntos: <strong id="sn-score">0</strong></span>
            <span class="pill">M√°xima: <strong id="sn-best">0</strong></span>
            <span class="pill">Velocidad: <strong id="sn-speed">1x</strong></span>
          </div>
          <div class="actions">
            <button class="btn" id="sn-restart">Reiniciar</button>
          </div>
          <div class="ctrls">Controles: Flechas/WASD o D‚ÄëPad ¬∑ Pausa: P</div>
          <!-- D-Pad m√≥vil -->
          <div class="dpad" id="sn-dpad">
            <div class="row"><button data-dir="up">‚ñ≤</button></div>
            <div class="row"><button data-dir="left">‚óÑ</button><button data-dir="down">‚ñº</button><button data-dir="right">‚ñ∫</button></div>
          </div>
        </div>
        <div class="overlay" id="sn-overlay" aria-hidden="true">
          <div class="card">
            <h3>¬°Perdiste!</h3>
            <p>Chocaste contra algo. ¬øOtra vez?</p>
            <button class="btn" id="sn-overlay-restart">Reintentar</button>
          </div>
        </div>
      </div>

      <!-- PONG -->
      <div class="game-wrap" id="tab-pong" role="tabpanel" aria-labelledby="Pong">
        <div class="canvas-wrap">
          <canvas id="pongCanvas" width="520" height="320"></canvas>
          <div class="hud">
            <span class="pill">T√∫: <strong id="pg-left">0</strong></span>
            <span class="pill">CPU: <strong id="pg-right">0</strong></span>
            <span class="pill">Velocidad: <strong id="pg-speed">1x</strong></span>
            <span class="pill">Meta CPU: <strong id="pg-target">5</strong></span>
          </div>
          <div class="actions">
            <button class="btn" id="pg-restart">Reiniciar</button>
          </div>
          <div class="ctrls">Controles: ‚Üë/‚Üì o W/S ¬∑ En m√≥vil: arrastra el dedo sobre el canvas</div>
        </div>
        <div class="overlay" id="pg-overlay" aria-hidden="true">
          <div class="card">
            <h3>¬°Perdiste!</h3>
            <p>La CPU alcanz√≥ 5 puntos.</p>
            <button class="btn" id="pg-overlay-restart">Reintentar</button>
          </div>
        </div>
      </div>

      <!-- BREAKOUT -->
      <div class="game-wrap" id="tab-breakout" role="tabpanel" aria-labelledby="Breakout">
        <div class="canvas-wrap">
          <canvas id="brCanvas" width="520" height="360"></canvas>
          <div class="hud">
            <span class="pill">Puntos: <strong id="br-score">0</strong></span>
            <span class="pill">Vidas: <strong id="br-lives">3</strong></span>
            <span class="pill">Nivel: <strong id="br-level">1</strong></span>
          </div>
          <div class="actions">
            <button class="btn" id="br-restart">Reiniciar</button>
          </div>
          <div class="ctrls">Controles: Mouse o ‚Üê ‚Üí ¬∑ En m√≥vil: desliza el dedo sobre el canvas</div>
        </div>
        <div class="overlay" id="br-overlay" aria-hidden="true">
          <div class="card">
            <h3>¬°Perdiste!</h3>
            <p>Te quedaste sin vidas.</p>
            <button class="btn" id="br-overlay-restart">Reintentar</button>
          </div>
        </div>
      </div>
    </section>

    <footer>¬© <span id="year"></span> Vision-Itaca ¬∑ Hecho con ‚ô• en modo previa.</footer>
  </div>

<script>
  const $ = s => document.querySelector(s); const $$ = s => Array.from(document.querySelectorAll(s));
  const clamp = (n,a,b)=> Math.max(a, Math.min(b,n)); const rng = (min,max)=> Math.floor(Math.random()*(max-min+1))+min;
  const storage = { get(k, def=0){ try{return JSON.parse(localStorage.getItem(k))??def}catch{return def} }, set(k,v){ try{localStorage.setItem(k,JSON.stringify(v))}catch{} } };
  $('#year').textContent = new Date().getFullYear();

  // Tabs + init on demand
  const tabBtns = $$('.tab-btn'); const tabs = $$('.game-wrap');
  let inited = { snake:false, pong:false, breakout:false };
  tabBtns.forEach(btn => btn.addEventListener('click', () => {
    tabBtns.forEach(b => b.classList.toggle('active', b===btn));
    tabs.forEach(t => t.classList.toggle('active', t.id === 'tab-' + btn.dataset.tab));
    const key = btn.dataset.tab; if (!inited[key]) { inited[key] = true; initGame(key); }
  }));
  window.addEventListener('load', () => { inited.snake = true; initGame('snake'); });

  function initGame(key){ if (key==='snake') return initSnake(); if (key==='pong') return initPong(); if (key==='breakout') return initBreakout(); }

  /* ============== Helpers overlay ============== */
  function showOverlay(id){ const el = $(id); el.classList.add('show'); el.setAttribute('aria-hidden','false'); }
  function hideOverlay(id){ const el = $(id); el.classList.remove('show'); el.setAttribute('aria-hidden','true'); }

  /* ============== SNAKE (pierde con bordes) ============== */
  function initSnake(){
    const canvas = $('#snakeCanvas'); const ctx = canvas.getContext('2d');
    const grid=20, cols=Math.floor(canvas.width/grid), rows=Math.floor(canvas.height/grid);
    let snake, dir, food, speed, score, paused;

    function reset(){
      snake=[{x:Math.floor(cols/2), y:Math.floor(rows/2)}]; dir={x:1,y:0}; food=spawnFood(); speed=8; score=0; paused=false;
      $('#sn-score').textContent=score; $('#sn-speed').textContent='1x'; $('#sn-best').textContent=storage.get('sn-best',0);
      hideOverlay('#sn-overlay');
    }
    function spawnFood(){ let f; do { f={x:rng(0,cols-1), y:rng(0,rows-1)} } while(snake.some(s=>s.x===f.x&&s.y===f.y)); return f; }
    function drawCell(x,y,color){ ctx.fillStyle=color; const pad=2; ctx.fillRect(x*grid+pad,y*grid+pad,grid-pad*2,grid-pad*2); }
    function step(){
      if (paused) return;
      const head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
      // MUERTE con bordes
      if (head.x<0 || head.y<0 || head.x>=cols || head.y>=rows || snake.some(s=>s.x===head.x&&s.y===head.y)){
        const best = Math.max(storage.get('sn-best',0), score); storage.set('sn-best',best); $('#sn-best').textContent=best;
        showOverlay('#sn-overlay'); paused=true; return;
      }
      snake.unshift(head);
      if (head.x===food.x && head.y===food.y){ score+=10; $('#sn-score').textContent=score; if(score%50===0){ speed=Math.min(16, speed+1); $('#sn-speed').textContent=(speed/8).toFixed(1)+'x'; } food=spawnFood(); }
      else snake.pop();
      // render
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.globalAlpha=.07; ctx.strokeStyle='#a78bfa';
      for(let x=0;x<cols;x++){ ctx.beginPath(); ctx.moveTo(x*grid,0); ctx.lineTo(x*grid,canvas.height); ctx.stroke(); }
      for(let y=0;y<rows;y++){ ctx.beginPath(); ctx.moveTo(0,y*grid); ctx.lineTo(canvas.width,y*grid); ctx.stroke(); }
      ctx.globalAlpha=1;
      drawCell(food.x,food.y,'#7c3aed'); snake.forEach((s,i)=> drawCell(s.x,s.y,i?'#c4b5fd':'#a78bfa'));
      // best
      const best = Math.max(storage.get('sn-best',0), score); storage.set('sn-best',best); $('#sn-best').textContent=best;
    }
    function handleKey(e){ const k=e.key.toLowerCase(); if(k==='p'){ paused=!paused; return }
      if((k==='arrowup'||k==='w')&&dir.y!==1) dir={x:0,y:-1}; else if((k==='arrowdown'||k==='s')&&dir.y!==-1) dir={x:0,y:1};
      else if((k==='arrowleft'||k==='a')&&dir.x!==1) dir={x:-1,y:0}; else if((k==='arrowright'||k==='d')&&dir.x!==-1) dir={x:1,y:0}; }

    // Swipe para m√≥vil
    let tStart=null; canvas.addEventListener('touchstart', e=>{ tStart={x:e.touches[0].clientX,y:e.touches[0].clientY} }, {passive:true});
    canvas.addEventListener('touchend', e=>{
      if(!tStart) return; const dx=(e.changedTouches[0].clientX - tStart.x), dy=(e.changedTouches[0].clientY - tStart.y);
      if(Math.abs(dx)>Math.abs(dy)) { if(dx>10 && dir.x!==-1) dir={x:1,y:0}; else if(dx<-10 && dir.x!==1) dir={x:-1,y:0}; }
      else { if(dy>10 && dir.y!==-1) dir={x:0,y:1}; else if(dy<-10 && dir.y!==1) dir={x:0,y:-1}; }
      tStart=null;
    }, {passive:true});

    // D‚ÄëPad botones
    $$('#sn-dpad button').forEach(b=> b.addEventListener('click', ()=>{
      const d=b.dataset.dir; if(d==='up' && dir.y!==1) dir={x:0,y:-1}; if(d==='down' && dir.y!==-1) dir={x:0,y:1}; if(d==='left' && dir.x!==1) dir={x:-1,y:0}; if(d==='right' && dir.x!==-1) dir={x:1,y:0};
    }));

    document.addEventListener('keydown', handleKey);
    let acc=0; const fps=60; function loop(){ acc+=1; if(acc>=fps/speed){ acc=0; step(); } requestAnimationFrame(loop) } requestAnimationFrame(loop);
    $('#sn-restart').addEventListener('click', reset); $('#sn-overlay-restart').addEventListener('click', reset);
    reset();
  }

  /* ============== PONG (pierde si CPU llega a 5) ============== */
  function initPong(){
    const canvas=$('#pongCanvas'), ctx=canvas.getContext('2d');
    let ball,left,right,speedMul,scoreL,scoreR,keys={},targetCPU=5, gameOver=false;

    function reset(all=true){
      ball={x:canvas.width/2,y:canvas.height/2,vx:rng(0,1)?2.6:-2.6,vy:rng(-2,2),r:6};
      left={x:14,y:canvas.height/2-30,w:8,h:60,vy:0}; right={x:canvas.width-22,y:canvas.height/2-30,w:8,h:60};
      speedMul=1; if(all){scoreL=0;scoreR=0;$('#pg-left').textContent=0;$('#pg-right').textContent=0;} $('#pg-speed').textContent=speedMul+'x';
      gameOver=false; hideOverlay('#pg-overlay');
    }
    function draw(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.setLineDash([6,8]); ctx.strokeStyle='#a78bfa88'; ctx.beginPath(); ctx.moveTo(canvas.width/2,0); ctx.lineTo(canvas.width/2,canvas.height); ctx.stroke(); ctx.setLineDash([]);
      ctx.fillStyle='#c4b5fd'; ctx.fillRect(left.x,left.y,left.w,left.h); ctx.fillRect(right.x,right.y,right.w,right.h);
      ctx.beginPath(); ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2); ctx.fillStyle='#a78bfa'; ctx.fill();
    }
    function step(){ if(gameOver) return;
      if(keys['arrowup']||keys['w']) left.y-=4.2; if(keys['arrowdown']||keys['s']) left.y+=4.2; left.y=clamp(left.y,6,canvas.height-left.h-6);
      const target=ball.y-right.h/2; right.y+= (target-right.y)*0.08; right.y=clamp(right.y,6,canvas.height-right.h-6);
      ball.x+=ball.vx*speedMul; ball.y+=ball.vy*speedMul; if(ball.y<6||ball.y>canvas.height-6) ball.vy*=-1;
      const hit=p=> ball.x-ball.r<p.x+p.w && ball.x+ball.r>p.x && ball.y+ball.r>p.y && ball.y-ball.r<p.y+p.h;
      if(hit(left)){ ball.vx=Math.abs(ball.vx)+0.2; const off=(ball.y-(left.y+left.h/2))/(left.h/2); ball.vy=off*4; speedMul=Math.min(2.2,speedMul+0.03); }
      if(hit(right)){ ball.vx=-Math.abs(ball.vx)-0.2; const off=(ball.y-(right.y+right.h/2))/(right.h/2); ball.vy=off*4; speedMul=Math.min(2.2,speedMul+0.03); }
      if(ball.x<-20){ gameOver=true; showOverlay('#pg-overlay'); return; }
      if(ball.x>canvas.width+20){ scoreL++; $('#pg-left').textContent=scoreL; reset(false); }
      $('#pg-speed').textContent=speedMul.toFixed(1)+'x';
      
    }
    function loop(){ step(); draw(); requestAnimationFrame(loop) }
    window.addEventListener('keydown', e=> keys[e.key.toLowerCase()]=true);
    window.addEventListener('keyup', e=> keys[e.key.toLowerCase()]=false);
    // Control t√°ctil: mueve tu paleta con el dedo
    canvas.addEventListener('touchmove', e=>{ const rect=canvas.getBoundingClientRect(); const y=e.touches[0].clientY-rect.top; left.y=clamp(y-left.h/2,6,canvas.height-left.h-6); }, {passive:true});
    $('#pg-restart').addEventListener('click', ()=> reset(true)); $('#pg-overlay-restart').addEventListener('click', ()=> reset(true));
    reset(true); loop();
    $('#pg-target').textContent = targetCPU;
  }

  /* ============== BREAKOUT (overlay al perder) ============== */
  function initBreakout(){
    const canvas=$('#brCanvas'), ctx=canvas.getContext('2d');
    let paddle, ball, bricks, rows, cols, score, lives, level, running, keys={};

    function build(level){ rows=clamp(3+level,3,8); cols=9; bricks=[]; for(let r=0;r<rows;r++) for(let c=0;c<cols;c++) bricks.push({ x:24+c*((canvas.width-48)/cols), y:40+r*24, w:(canvas.width-48)/cols-4, h:16, hp:1+Math.floor(r/2) }); }
    function reset(all=true){ paddle={x:canvas.width/2-40,y:canvas.height-24,w:80,h:10,speed:6}; ball={x:canvas.width/2,y:canvas.height-60,r:6,vx:3.0,vy:-3.2}; score=0; lives=3; level=1; running=true; build(level); updateHud(); hideOverlay('#br-overlay'); }
    function updateHud(){ $('#br-score').textContent=score; $('#br-lives').textContent=lives; $('#br-level').textContent=level; }
    function draw(){ ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle='#c4b5fd'; ctx.fillRect(paddle.x,paddle.y,paddle.w,paddle.h); ctx.beginPath(); ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2); ctx.fillStyle='#a78bfa'; ctx.fill(); bricks.forEach(b=>{ if(b.hp<=0) return; ctx.globalAlpha=clamp(0.5+b.hp*0.2,0.5,1); ctx.fillStyle='#7c3aed'; ctx.fillRect(b.x,b.y,b.w,b.h); ctx.globalAlpha=1; }); }
    function step(){ if(!running) return; if(keys['arrowleft']||keys['a']) paddle.x-=paddle.speed; if(keys['arrowright']||keys['d']) paddle.x+=paddle.speed; paddle.x=clamp(paddle.x,6,canvas.width-paddle.w-6);
      ball.x+=ball.vx; ball.y+=ball.vy; if(ball.x<6||ball.x>canvas.width-6) ball.vx*=-1; if(ball.y<6) ball.vy*=-1;
      if(ball.y+ball.r>paddle.y && ball.x>paddle.x && ball.x<paddle.x+paddle.w && ball.vy>0){ const hit=(ball.x-(paddle.x+paddle.w/2))/(paddle.w/2); ball.vx=hit*4.2; ball.vy=-Math.abs(ball.vy)-0.1; }
      for(const b of bricks){ if(b.hp<=0) continue; if(ball.x> b.x && ball.x< b.x+b.w && ball.y> b.y && ball.y< b.y+b.h){ b.hp--; score+=10; updateHud(); const left=Math.abs(ball.x-b.x), right=Math.abs(ball.x-(b.x+b.w)), top=Math.abs(ball.y-b.y), bottom=Math.abs(ball.y-(b.y+b.h)); const min=Math.min(left,right,top,bottom); if(min===left||min===right) ball.vx*=-1; else ball.vy*=-1; } }
      if(ball.y>canvas.height+10){ running=false; showOverlay('#br-overlay'); return; }
      if(lives<=0){ running=false; showOverlay('#br-overlay'); }
      if(bricks.every(b=>b.hp<=0)){ level++; updateHud(); build(level); ball.x=canvas.width/2; ball.y=canvas.height-60; ball.vx=3.0; ball.vy=-3.2; }
    }
    function loop(){ step(); draw(); requestAnimationFrame(loop) }
    window.addEventListener('mousemove', e=>{ const rect=canvas.getBoundingClientRect(); if(document.activeElement!==canvas) return; paddle.x = clamp(e.clientX-rect.left - paddle.w/2, 6, canvas.width - paddle.w - 6); });
    window.addEventListener('keydown', e=> keys[e.key.toLowerCase()]=true); window.addEventListener('keyup', e=> keys[e.key.toLowerCase()]=false);
    // t√°ctil: desliza
    canvas.addEventListener('touchmove', e=>{ const rect=canvas.getBoundingClientRect(); const x=e.touches[0].clientX-rect.left; paddle.x=clamp(x-paddle.w/2,6,canvas.width-paddle.w-6); }, {passive:true});
    $('#br-restart').addEventListener('click', ()=> reset(true)); $('#br-overlay-restart').addEventListener('click', ()=> reset(true));
    reset(true); loop();
  }
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Vision-Itaca ‚Äî Pr√≥ximamente</title>
  <meta name="description" content="Vision-Itaca ‚Äî Sitio en desarrollo. Mientras tanto, juega Snake, Pong y Breakout." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0a0f; --text: #eae6ff; --muted: #b9b2e6;
      --accent: #a78bfa; --accent-2: #7c3aed; --accent-3: #c4b5fd;
      --shadow: 0 10px 40px rgba(124, 58, 237, 0.25), 0 2px 12px rgba(167, 139, 250, 0.15);
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html, body { height: 100% }
    body {
      margin: 0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--text);
      background: radial-gradient(1200px 800px at 80% -20%, rgba(124,58,237,0.14), transparent 60%),
                  radial-gradient(1200px 800px at -10% 120%, rgba(167,139,250,0.10), transparent 60%),
                  linear-gradient(180deg, #0a0a0f 0%, #0c0c14 100%);
    }
    .container { max-width: 1080px; margin: 0 auto; padding: 32px 16px 64px }
    header { text-align: center; margin-top: 12px; margin-bottom: 28px }
    .brand { font-size: clamp(28px, 6vw, 56px); font-weight: 800; letter-spacing: .5px; text-shadow: 0 1px 0 #000, 0 8px 30px rgba(167,139,250,.35) }
    .sub { font-size: clamp(16px, 3vw, 22px); color: var(--accent-3); margin-top: 4px }
    .note { margin: 16px auto 28px; max-width: 820px; line-height: 1.5; color: var(--muted);
      background: linear-gradient(180deg, rgba(124,58,237,0.15), rgba(124,58,237,0.08)); border: 1px solid rgba(167,139,250,0.35);
      padding: 12px 16px; border-radius: 14px; box-shadow: var(--shadow) }
    .tabs { display: flex; gap: 10px; align-items: center; justify-content: center; flex-wrap: wrap; margin: 12px 0 4px }
    .tab-btn { appearance: none; border: 1px solid rgba(167,139,250,0.45); background: linear-gradient(180deg, #151523, #131327);
      color: var(--text); padding: 10px 14px; border-radius: 12px; cursor: pointer; font-weight: 600; letter-spacing: .2px;
      transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease; }
    .tab-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow) }
    .tab-btn.active { border-color: var(--accent-2); box-shadow: inset 0 0 0 1px var(--accent-2), 0 10px 30px rgba(124,58,237,.25) }
    .frame { margin-top: 18px; background: linear-gradient(180deg, #0f0f1a, #0e0e17); border: 1px solid rgba(167,139,250,.3);
      border-radius: 18px; padding: 16px; box-shadow: var(--shadow) }
    .game-wrap { display: none; position: relative }
    .game-wrap.active { display: block }

    /* Canvas responsive y n√≠tido en m√≥vil */
    .canvas-wrap { display: flex; flex-direction: column; align-items: center; gap: 8px }
    canvas { width: min(100%, 520px); height: auto; background: #05050a; border-radius: 12px; border: 1px solid rgba(167,139,250,.25); box-shadow: inset 0 0 40px rgba(124,58,237,0.12) }
    .hud { display: flex; gap: 14px; flex-wrap: wrap; justify-content: center; align-items: center; margin-top: 6px }
    .pill { background: #121225; border: 1px solid rgba(167,139,250,.35); padding: 6px 10px; border-radius: 999px; font-size: 14px; color: var(--accent-3) }
    .actions { display: flex; justify-content: center; gap: 8px; margin: 8px 0 2px }
    .btn { border: 1px solid rgba(167,139,250,.5); background: #141428; color: var(--text); padding: 8px 12px; border-radius: 10px; cursor: pointer; font-weight: 600 }
    .btn:hover { box-shadow: 0 6px 18px rgba(124,58,237,.25) }
    .ctrls { text-align: center; color: var(--muted); font-size: 13px; margin-top: 6px }

    /* Overlay de p√©rdida */
    .overlay { position: absolute; inset: 0; display: none; place-items: center; background: rgba(10,10,15,.72); border-radius: 16px; backdrop-filter: blur(2px) }
    .overlay.show { display: grid }
    .overlay .card { background: #131327; border: 1px solid rgba(167,139,250,.45); padding: 16px 18px; border-radius: 14px; box-shadow: var(--shadow); text-align: center }
    .overlay h3 { margin: 0 0 6px; font-size: 20px }
    .overlay p { margin: 0 0 12px; color: var(--muted) }

    /* D-Pad m√≥vil para Snake */
    .dpad { display: none; margin-top: 10px; gap: 8px; user-select: none }
    .dpad .row { display: flex; justify-content: center; gap: 8px }
    .dpad button { width: 56px; height: 56px; border-radius: 12px; border: 1px solid rgba(167,139,250,.45); background: #141428; color: var(--text); font-weight: 800; font-size: 18px }
    @media (pointer:none), (pointer:coarse) {
      .dpad { display: grid }
    }

    footer { margin-top: 30px; text-align: center; color: var(--muted); font-size: 12px; opacity: .85 }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">Vision-Itaca</div>
      <div class="sub">Pr√≥ximamente...</div>
      <div class="note">Sitio en desarrollo ‚Äî mientras tanto, puedes jugar a estos juegos üëá</div>
    </header>

    <nav class="tabs" role="tablist" aria-label="Juegos">
      <button class="tab-btn active" data-tab="snake" role="tab" aria-selected="true">üêç Snake</button>
      <button class="tab-btn" data-tab="pong" role="tab" aria-selected="false">üèì Pong</button>
      <button class="tab-btn" data-tab="breakout" role="tab" aria-selected="false">üß± Breakout</button>
    </nav>

    <section class="frame">
      <!-- SNAKE -->
      <div class="game-wrap active" id="tab-snake" role="tabpanel" aria-labelledby="Snake">
        <div class="canvas-wrap">
          <canvas id="snakeCanvas" width="480" height="360"></canvas>
          <div class="hud">
            <span class="pill">Puntos: <strong id="sn-score">0</strong></span>
            <span class="pill">M√°xima: <strong id="sn-best">0</strong></span>
            <span class="pill">Velocidad: <strong id="sn-speed">1x</strong></span>
          </div>
          <div class="actions">
            <button class="btn" id="sn-restart">Reiniciar</button>
          </div>
          <div class="ctrls">Controles: Flechas/WASD o D‚ÄëPad ¬∑ Pausa: P</div>
          <!-- D-Pad m√≥vil -->
          <div class="dpad" id="sn-dpad">
            <div class="row"><button data-dir="up">‚ñ≤</button></div>
            <div class="row"><button data-dir="left">‚óÑ</button><button data-dir="down">‚ñº</button><button data-dir="right">‚ñ∫</button></div>
          </div>
        </div>
        <div class="overlay" id="sn-overlay" aria-hidden="true">
          <div class="card">
            <h3>¬°Perdiste!</h3>
            <p>Chocaste contra algo. ¬øOtra vez?</p>
            <button class="btn" id="sn-overlay-restart">Reintentar</button>
          </div>
        </div>
      </div>

      <!-- PONG -->
      <div class="game-wrap" id="tab-pong" role="tabpanel" aria-labelledby="Pong">
        <div class="canvas-wrap">
          <canvas id="pongCanvas" width="520" height="320"></canvas>
          <div class="hud">
            <span class="pill">T√∫: <strong id="pg-left">0</strong></span>
            <span class="pill">CPU: <strong id="pg-right">0</strong></span>
            <span class="pill">Velocidad: <strong id="pg-speed">1x</strong></span>
            <span class="pill">Meta CPU: <strong id="pg-target">5</strong></span>
          </div>
          <div class="actions">
            <button class="btn" id="pg-restart">Reiniciar</button>
          </div>
          <div class="ctrls">Controles: ‚Üë/‚Üì o W/S ¬∑ En m√≥vil: arrastra el dedo sobre el canvas</div>
        </div>
        <div class="overlay" id="pg-overlay" aria-hidden="true">
          <div class="card">
            <h3>¬°Perdiste!</h3>
            <p>La CPU alcanz√≥ 5 puntos.</p>
            <button class="btn" id="pg-overlay-restart">Reintentar</button>
          </div>
        </div>
      </div>

      <!-- BREAKOUT -->
      <div class="game-wrap" id="tab-breakout" role="tabpanel" aria-labelledby="Breakout">
        <div class="canvas-wrap">
          <canvas id="brCanvas" width="520" height="360"></canvas>
          <div class="hud">
            <span class="pill">Puntos: <strong id="br-score">0</strong></span>
            <span class="pill">Vidas: <strong id="br-lives">3</strong></span>
            <span class="pill">Nivel: <strong id="br-level">1</strong></span>
          </div>
          <div class="actions">
            <button class="btn" id="br-restart">Reiniciar</button>
          </div>
          <div class="ctrls">Controles: Mouse o ‚Üê ‚Üí ¬∑ En m√≥vil: desliza el dedo sobre el canvas</div>
        </div>
        <div class="overlay" id="br-overlay" aria-hidden="true">
          <div class="card">
            <h3>¬°Perdiste!</h3>
            <p>Te quedaste sin vidas.</p>
            <button class="btn" id="br-overlay-restart">Reintentar</button>
          </div>
        </div>
      </div>
    </section>

    <footer>¬© <span id="year"></span> Vision-Itaca ¬∑ Hecho con ‚ô• en modo previa.</footer>
  </div>

<script>
  const $ = s => document.querySelector(s); const $$ = s => Array.from(document.querySelectorAll(s));
  const clamp = (n,a,b)=> Math.max(a, Math.min(b,n)); const rng = (min,max)=> Math.floor(Math.random()*(max-min+1))+min;
  const storage = { get(k, def=0){ try{return JSON.parse(localStorage.getItem(k))??def}catch{return def} }, set(k,v){ try{localStorage.setItem(k,JSON.stringify(v))}catch{} } };
  $('#year').textContent = new Date().getFullYear();

  // Tabs + init on demand
  const tabBtns = $$('.tab-btn'); const tabs = $$('.game-wrap');
  let inited = { snake:false, pong:false, breakout:false };
  tabBtns.forEach(btn => btn.addEventListener('click', () => {
    tabBtns.forEach(b => b.classList.toggle('active', b===btn));
    tabs.forEach(t => t.classList.toggle('active', t.id === 'tab-' + btn.dataset.tab));
    const key = btn.dataset.tab; if (!inited[key]) { inited[key] = true; initGame(key); }
  }));
  window.addEventListener('load', () => { inited.snake = true; initGame('snake'); });

  function initGame(key){ if (key==='snake') return initSnake(); if (key==='pong') return initPong(); if (key==='breakout') return initBreakout(); }

  /* ============== Helpers overlay ============== */
  function showOverlay(id){ const el = $(id); el.classList.add('show'); el.setAttribute('aria-hidden','false'); }
  function hideOverlay(id){ const el = $(id); el.classList.remove('show'); el.setAttribute('aria-hidden','true'); }

  /* ============== SNAKE (pierde con bordes) ============== */
  function initSnake(){
    const canvas = $('#snakeCanvas'); const ctx = canvas.getContext('2d');
    const grid=20, cols=Math.floor(canvas.width/grid), rows=Math.floor(canvas.height/grid);
    let snake, dir, food, speed, score, paused;

    function reset(){
      snake=[{x:Math.floor(cols/2), y:Math.floor(rows/2)}]; dir={x:1,y:0}; food=spawnFood(); speed=8; score=0; paused=false;
      $('#sn-score').textContent=score; $('#sn-speed').textContent='1x'; $('#sn-best').textContent=storage.get('sn-best',0);
      hideOverlay('#sn-overlay');
    }
    function spawnFood(){ let f; do { f={x:rng(0,cols-1), y:rng(0,rows-1)} } while(snake.some(s=>s.x===f.x&&s.y===f.y)); return f; }
    function drawCell(x,y,color){ ctx.fillStyle=color; const pad=2; ctx.fillRect(x*grid+pad,y*grid+pad,grid-pad*2,grid-pad*2); }
    function step(){
      if (paused) return;
      const head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
      // MUERTE con bordes
      if (head.x<0 || head.y<0 || head.x>=cols || head.y>=rows || snake.some(s=>s.x===head.x&&s.y===head.y)){
        const best = Math.max(storage.get('sn-best',0), score); storage.set('sn-best',best); $('#sn-best').textContent=best;
        showOverlay('#sn-overlay'); paused=true; return;
      }
      snake.unshift(head);
      if (head.x===food.x && head.y===food.y){ score+=10; $('#sn-score').textContent=score; if(score%50===0){ speed=Math.min(16, speed+1); $('#sn-speed').textContent=(speed/8).toFixed(1)+'x'; } food=spawnFood(); }
      else snake.pop();
      // render
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.globalAlpha=.07; ctx.strokeStyle='#a78bfa';
      for(let x=0;x<cols;x++){ ctx.beginPath(); ctx.moveTo(x*grid,0); ctx.lineTo(x*grid,canvas.height); ctx.stroke(); }
      for(let y=0;y<rows;y++){ ctx.beginPath(); ctx.moveTo(0,y*grid); ctx.lineTo(canvas.width,y*grid); ctx.stroke(); }
      ctx.globalAlpha=1;
      drawCell(food.x,food.y,'#7c3aed'); snake.forEach((s,i)=> drawCell(s.x,s.y,i?'#c4b5fd':'#a78bfa'));
      // best
      const best = Math.max(storage.get('sn-best',0), score); storage.set('sn-best',best); $('#sn-best').textContent=best;
    }
    function handleKey(e){ const k=e.key.toLowerCase(); if(k==='p'){ paused=!paused; return }
      if((k==='arrowup'||k==='w')&&dir.y!==1) dir={x:0,y:-1}; else if((k==='arrowdown'||k==='s')&&dir.y!==-1) dir={x:0,y:1};
      else if((k==='arrowleft'||k==='a')&&dir.x!==1) dir={x:-1,y:0}; else if((k==='arrowright'||k==='d')&&dir.x!==-1) dir={x:1,y:0}; }

    // Swipe para m√≥vil
    let tStart=null; canvas.addEventListener('touchstart', e=>{ tStart={x:e.touches[0].clientX,y:e.touches[0].clientY} }, {passive:true});
    canvas.addEventListener('touchend', e=>{
      if(!tStart) return; const dx=(e.changedTouches[0].clientX - tStart.x), dy=(e.changedTouches[0].clientY - tStart.y);
      if(Math.abs(dx)>Math.abs(dy)) { if(dx>10 && dir.x!==-1) dir={x:1,y:0}; else if(dx<-10 && dir.x!==1) dir={x:-1,y:0}; }
      else { if(dy>10 && dir.y!==-1) dir={x:0,y:1}; else if(dy<-10 && dir.y!==1) dir={x:0,y:-1}; }
      tStart=null;
    }, {passive:true});

    // D‚ÄëPad botones
    $$('#sn-dpad button').forEach(b=> b.addEventListener('click', ()=>{
      const d=b.dataset.dir; if(d==='up' && dir.y!==1) dir={x:0,y:-1}; if(d==='down' && dir.y!==-1) dir={x:0,y:1}; if(d==='left' && dir.x!==1) dir={x:-1,y:0}; if(d==='right' && dir.x!==-1) dir={x:1,y:0};
    }));

    document.addEventListener('keydown', handleKey);
    let acc=0; const fps=60; function loop(){ acc+=1; if(acc>=fps/speed){ acc=0; step(); } requestAnimationFrame(loop) } requestAnimationFrame(loop);
    $('#sn-restart').addEventListener('click', reset); $('#sn-overlay-restart').addEventListener('click', reset);
    reset();
  }

  /* ============== PONG (pierde si CPU llega a 5) ============== */
  function initPong(){
    const canvas=$('#pongCanvas'), ctx=canvas.getContext('2d');
    let ball,left,right,speedMul,scoreL,scoreR,keys={},targetCPU=5, gameOver=false;

    function reset(all=true){
      ball={x:canvas.width/2,y:canvas.height/2,vx:rng(0,1)?2.6:-2.6,vy:rng(-2,2),r:6};
      left={x:14,y:canvas.height/2-30,w:8,h:60,vy:0}; right={x:canvas.width-22,y:canvas.height/2-30,w:8,h:60};
      speedMul=1; if(all){scoreL=0;scoreR=0;$('#pg-left').textContent=0;$('#pg-right').textContent=0;} $('#pg-speed').textContent=speedMul+'x';
      gameOver=false; hideOverlay('#pg-overlay');
    }
    function draw(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.setLineDash([6,8]); ctx.strokeStyle='#a78bfa88'; ctx.beginPath(); ctx.moveTo(canvas.width/2,0); ctx.lineTo(canvas.width/2,canvas.height); ctx.stroke(); ctx.setLineDash([]);
      ctx.fillStyle='#c4b5fd'; ctx.fillRect(left.x,left.y,left.w,left.h); ctx.fillRect(right.x,right.y,right.w,right.h);
      ctx.beginPath(); ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2); ctx.fillStyle='#a78bfa'; ctx.fill();
    }
    function step(){ if(gameOver) return;
      if(keys['arrowup']||keys['w']) left.y-=4.2; if(keys['arrowdown']||keys['s']) left.y+=4.2; left.y=clamp(left.y,6,canvas.height-left.h-6);
      const target=ball.y-right.h/2; right.y+= (target-right.y)*0.08; right.y=clamp(right.y,6,canvas.height-right.h-6);
      ball.x+=ball.vx*speedMul; ball.y+=ball.vy*speedMul; if(ball.y<6||ball.y>canvas.height-6) ball.vy*=-1;
      const hit=p=> ball.x-ball.r<p.x+p.w && ball.x+ball.r>p.x && ball.y+ball.r>p.y && ball.y-ball.r<p.y+p.h;
      if(hit(left)){ ball.vx=Math.abs(ball.vx)+0.2; const off=(ball.y-(left.y+left.h/2))/(left.h/2); ball.vy=off*4; speedMul=Math.min(2.2,speedMul+0.03); }
      if(hit(right)){ ball.vx=-Math.abs(ball.vx)-0.2; const off=(ball.y-(right.y+right.h/2))/(right.h/2); ball.vy=off*4; speedMul=Math.min(2.2,speedMul+0.03); }
      if(ball.x<-20){ scoreR++; $('#pg-right').textContent=scoreR; reset(false); }
      if(ball.x>canvas.width+20){ scoreL++; $('#pg-left').textContent=scoreL; reset(false); }
      $('#pg-speed').textContent=speedMul.toFixed(1)+'x';
      if(scoreR>=targetCPU){ gameOver=true; showOverlay('#pg-overlay'); }
    }
    function loop(){ step(); draw(); requestAnimationFrame(loop) }
    window.addEventListener('keydown', e=> keys[e.key.toLowerCase()]=true);
    window.addEventListener('keyup', e=> keys[e.key.toLowerCase()]=false);
    // Control t√°ctil: mueve tu paleta con el dedo
    canvas.addEventListener('touchmove', e=>{ const rect=canvas.getBoundingClientRect(); const y=e.touches[0].clientY-rect.top; left.y=clamp(y-left.h/2,6,canvas.height-left.h-6); }, {passive:true});
    $('#pg-restart').addEventListener('click', ()=> reset(true)); $('#pg-overlay-restart').addEventListener('click', ()=> reset(true));
    reset(true); loop();
    $('#pg-target').textContent = targetCPU;
  }

  /* ============== BREAKOUT (overlay al perder) ============== */
  function initBreakout(){
    const canvas=$('#brCanvas'), ctx=canvas.getContext('2d');
    let paddle, ball, bricks, rows, cols, score, lives, level, running, keys={};

    function build(level){ rows=clamp(3+level,3,8); cols=9; bricks=[]; for(let r=0;r<rows;r++) for(let c=0;c<cols;c++) bricks.push({ x:24+c*((canvas.width-48)/cols), y:40+r*24, w:(canvas.width-48)/cols-4, h:16, hp:1+Math.floor(r/2) }); }
    function reset(all=true){ paddle={x:canvas.width/2-40,y:canvas.height-24,w:80,h:10,speed:6}; ball={x:canvas.width/2,y:canvas.height-60,r:6,vx:3.0,vy:-3.2}; score=0; lives=3; level=1; running=true; build(level); updateHud(); hideOverlay('#br-overlay'); }
    function updateHud(){ $('#br-score').textContent=score; $('#br-lives').textContent=lives; $('#br-level').textContent=level; }
    function draw(){ ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle='#c4b5fd'; ctx.fillRect(paddle.x,paddle.y,paddle.w,paddle.h); ctx.beginPath(); ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2); ctx.fillStyle='#a78bfa'; ctx.fill(); bricks.forEach(b=>{ if(b.hp<=0) return; ctx.globalAlpha=clamp(0.5+b.hp*0.2,0.5,1); ctx.fillStyle='#7c3aed'; ctx.fillRect(b.x,b.y,b.w,b.h); ctx.globalAlpha=1; }); }
    function step(){ if(!running) return; if(keys['arrowleft']||keys['a']) paddle.x-=paddle.speed; if(keys['arrowright']||keys['d']) paddle.x+=paddle.speed; paddle.x=clamp(paddle.x,6,canvas.width-paddle.w-6);
      ball.x+=ball.vx; ball.y+=ball.vy; if(ball.x<6||ball.x>canvas.width-6) ball.vx*=-1; if(ball.y<6) ball.vy*=-1;
      if(ball.y+ball.r>paddle.y && ball.x>paddle.x && ball.x<paddle.x+paddle.w && ball.vy>0){ const hit=(ball.x-(paddle.x+paddle.w/2))/(paddle.w/2); ball.vx=hit*4.2; ball.vy=-Math.abs(ball.vy)-0.1; }
      for(const b of bricks){ if(b.hp<=0) continue; if(ball.x> b.x && ball.x< b.x+b.w && ball.y> b.y && ball.y< b.y+b.h){ b.hp--; score+=10; updateHud(); const left=Math.abs(ball.x-b.x), right=Math.abs(ball.x-(b.x+b.w)), top=Math.abs(ball.y-b.y), bottom=Math.abs(ball.y-(b.y+b.h)); const min=Math.min(left,right,top,bottom); if(min===left||min===right) ball.vx*=-1; else ball.vy*=-1; } }
      if(ball.y>canvas.height+10){ lives--; updateHud(); ball.x=canvas.width/2; ball.y=canvas.height-60; ball.vx=3.0; ball.vy=-3.2; }
      if(lives<=0){ running=false; showOverlay('#br-overlay'); }
      if(bricks.every(b=>b.hp<=0)){ level++; updateHud(); build(level); ball.x=canvas.width/2; ball.y=canvas.height-60; ball.vx=3.0; ball.vy=-3.2; }
    }
    function loop(){ step(); draw(); requestAnimationFrame(loop) }
    window.addEventListener('mousemove', e=>{ const rect=canvas.getBoundingClientRect(); if(document.activeElement!==canvas) return; paddle.x = clamp(e.clientX-rect.left - paddle.w/2, 6, canvas.width - paddle.w - 6); });
    window.addEventListener('keydown', e=> keys[e.key.toLowerCase()]=true); window.addEventListener('keyup', e=> keys[e.key.toLowerCase()]=false);
    // t√°ctil: desliza
    canvas.addEventListener('touchmove', e=>{ const rect=canvas.getBoundingClientRect(); const x=e.touches[0].clientX-rect.left; paddle.x=clamp(x-paddle.w/2,6,canvas.width-paddle.w-6); }, {passive:true});
    $('#br-restart').addEventListener('click', ()=> reset(true)); $('#br-overlay-restart').addEventListener('click', ()=> reset(true));
    reset(true); loop();
  }
</script>
</body>
</html>
